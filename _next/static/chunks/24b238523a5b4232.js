(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,n)=>{},98547,(e,t,n)=>{var r=e.i(47167);e.r(16015);var i=e.r(71645),o=i&&"object"==typeof i&&"default"in i?i:{default:i},s=void 0!==r.default&&r.default.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,i=t.optimizeForSpeed,o=void 0===i?s:i;c(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(s||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(c(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return s||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){s||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&c(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return n?i.insertBefore(r,n):i.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},d={};function p(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return d[r]||(d[r]="jsx-"+u(e+"-"+n)),d[r]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return d[n]||(d[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[n]}var f=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,i=t.optimizeForSpeed,o=void 0!==i&&i;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),r&&"boolean"==typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,i=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var o=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=o,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return o.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var i=p(r,n);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return m(i,e)}):[m(i,t)]}}return{styleId:p(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),h=i.createContext(null);function g(){return new f}function y(){return i.useContext(h)}h.displayName="StyleSheetContext";var x=o.default.useInsertionEffect||o.default.useLayoutEffect,v="undefined"!=typeof window?g():void 0;function b(e){var t=v||y();return t&&("undefined"==typeof window?t.add(e):x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return p(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,r=i.useContext(h),s=i.useState(function(){return r||t||g()})[0];return o.default.createElement(h.Provider,{value:s},n)},n.createStyleRegistry=g,n.style=b,n.useStyleRegistry=y},37902,(e,t,n)=>{t.exports=e.r(98547).style},74276,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(53145),i=e.i(11152),o=e.i(51706);e.s(["default",0,()=>{let{register:e,handleSubmit:s,formState:{errors:a},reset:l}=(0,r.useForm)(),[c,u]=(0,n.useState)("idle"),{countryCode:d}=(0,o.useGeoCountry)(),p="PK"===d||null===d,m="AE"===(d??"").toUpperCase(),f=async e=>{u("sending");try{let t=await fetch("/api/contact.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json().catch(()=>null);if(!t.ok||!n?.ok)throw Error(n?.error||"Failed to send");u("success"),l()}catch{u("error")}};return(0,t.jsx)("section",{className:"bg-[#0F1930] py-16 px-5 2xl:px-49",children:(0,t.jsxs)("div",{className:"mx-auto flex flex-col lg:flex-row gap-8 lg:gap-30",children:[(0,t.jsx)("div",{className:"rounded-2xl w-full lg:w-1/2",children:(0,t.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",onSubmit:s(f),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"Your Name*"}),(0,t.jsx)("input",{type:"text",...e("name",{required:"Name is required"}),placeholder:"John Doe",className:"w-full mt-1 p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036]"}),a.name&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"Email*"}),(0,t.jsx)("input",{type:"email",...e("email",{required:"Email is required"}),placeholder:"JohnDoe23@gmail.com",className:"w-full mt-1 p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036]"}),a.email&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"Phone*"}),(0,t.jsx)("input",{type:"tel",...e("phone",{required:"Phone is required"}),placeholder:"Enter Phone Number",className:"w-full mt-1 p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036]"}),a.phone&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.phone.message})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"I’m Interested In*"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsxs)("select",{...e("interest",{required:"Please select interest"}),className:"w-full  p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036] appearance-none pr-10",children:[(0,t.jsx)("option",{value:"",className:"text-[#2378DA]",children:"Select"}),(0,t.jsx)("option",{value:"web",children:"Web Development"}),(0,t.jsx)("option",{value:"app",children:"App Development"}),(0,t.jsx)("option",{value:"uiux",children:"UI/UX Design"}),(0,t.jsx)("option",{value:"marketing",children:"Digital Marketing"})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.interest&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.interest.message})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"Budget Range (USD)*"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsxs)("select",{...e("budget",{required:"Please select budget"}),className:"w-full  p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036] appearance-none pr-10",children:[(0,t.jsx)("option",{value:"",className:"text-[#2378DA]",children:"Select Range"}),(0,t.jsx)("option",{value:"1-5k",children:"$1,000 – $5,000"}),(0,t.jsx)("option",{value:"5-10k",children:"$5,000 – $10,000"}),(0,t.jsx)("option",{value:"10k+",children:"$10,000+"})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.budget&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.budget.message})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"Country*"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsxs)("select",{...e("country",{required:"Please select country"}),className:"w-full  p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036] appearance-none pr-10",children:[(0,t.jsx)("option",{value:"",className:"text-[#2378DA]",children:"Select Country"}),(0,t.jsx)("option",{value:"us",children:"United States"}),(0,t.jsx)("option",{value:"pk",children:"Pakistan"}),(0,t.jsx)("option",{value:"uk",children:"United Kingdom"}),(0,t.jsx)("option",{value:"ca",children:"Canada"})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-3  flex items-center ",children:(0,t.jsx)("svg",{className:" w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a.country&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.country.message})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"text-lg text-white",children:"Your Message*"}),(0,t.jsx)("textarea",{...e("message",{required:"Message is required"}),rows:4,placeholder:"Enter here...",className:"w-full h-50 mt-1 p-3 border border-white/10 text-base rounded-lg placeholder-white/30 text-white bg-[#172036]"}),a.message&&(0,t.jsx)("p",{className:"text-red-500 text-lg",children:a.message.message})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("button",{type:"submit",disabled:"sending"===c,className:"z-10 bg-gradient-to-r from-[#2378DA] to-[#042F61] flex gap-1 font-medium relative text-white rounded-full hover:opacity-90 transition justify-center items-center whitespace-nowrap text-xs sm:text-lg md:text-base lg:text-lg  px-3 sm:px-5 md:px-6 lg:px-7  py-1 sm:py-2 md:py-3 lg:py-4  pointer-events-auto",children:[(0,t.jsx)("span",{className:"absolute inset-x-0 w-1/2 mx-auto -top-px bg-gradient-to-r from-transparent via-white to-transparent h-px"}),(0,t.jsx)("span",{children:"sending"===c?"Sending...":"Send Message"}),(0,t.jsx)("img",{src:"/assets/rd-image003.svg",className:"pt-0.5 w-3 sm:w-3.5",alt:""})]}),"success"===c&&(0,t.jsx)("p",{className:"text-green-400 text-sm mt-3",children:"Message sent. We will get back to you soon."}),"error"===c&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-3",children:"Something went wrong. Please try again."})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col justify-center w-full lg:w-1/2",children:[(0,t.jsxs)("div",{className:"mb-6 text-white",children:[(0,t.jsx)("h2",{className:"text-[28px] sm:text-[32px] lg:text-[40px] font-bold mb-6 text-[#2378DA]",children:m?"UAE Office":p?"Head Office":"US Office"}),(0,t.jsxs)("p",{className:"mt-2 text-[19px] flex  items-center gap-3",children:[(0,t.jsx)("img",{src:"/assets/rd-image113.svg",alt:"",className:"w-6"})," ",m?(0,t.jsx)("a",{href:"mailto:informationtechnology@resolutedigitals.com",className:"hover:underline",children:"informationtechnology@resolutedigitals.com"}):(0,t.jsx)("a",{href:"mailto:info@resolutedigitals.com",className:"hover:underline",children:"info@resolutedigitals.com"})]}),!m&&(0,t.jsxs)("p",{className:"mt-2 text-[19px] flex  items-center gap-3",children:[(0,t.jsx)("img",{src:"/assets/rd-image114.svg",alt:"",className:"w-6"})," +1 (254) 342-0005"]}),(0,t.jsx)("p",{className:"mt-2 text-[19px] opacity-80",children:m?"G-17, Hamood Building, Area: Port Saeed, Dubai, UAE":p?"Plot No. E-88, Block B Gulshan e Jamal, Karachi, 75260":"738, Fawn Valley Dr., Allen, TX 75002, United States"})]}),(0,t.jsx)("h2",{className:"text-[28px] sm:text-[32px] lg:text-[40px] font-bold mb-6 text-[#2378DA]",children:"Stay Connected"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-6",children:[(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 border border-[#2378DA] rounded-full hover:bg-[#2378DA] transition",children:[(0,t.jsx)(i.FaFacebookF,{className:"w-4 h-4 text-white"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Facebook"})]}),(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 border border-[#1DA1F2] rounded-full hover:bg-[#1DA1F2] transition",children:[(0,t.jsx)(i.FaTwitter,{className:"w-4 h-4 text-white"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Twitter"})]}),(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 border border-pink-500 rounded-full hover:bg-gradient-to-r hover:from-pink-500 hover:to-yellow-500 transition",children:[(0,t.jsx)(i.FaInstagram,{className:"w-4 h-4 text-white"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Instagram"})]}),(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 border border-[#0A66C2] rounded-full hover:bg-[#0A66C2] transition",children:[(0,t.jsx)(i.FaLinkedinIn,{className:"w-4 h-4 text-white"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"LinkedIn"})]}),(0,t.jsxs)("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 border border-red-600 rounded-full hover:bg-red-600 transition",children:[(0,t.jsx)(i.FaYoutube,{className:"w-4 h-4 text-white"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"YouTube"})]})]})]})]})})}])},35852,92975,e=>{"use strict";function t(e,t,n){return"string"==typeof e&&e.endsWith("%")?t*(parseFloat(e)/100):"number"==typeof e?e:(t-n)/2}e.s(["calculatePosition",()=>t],35852);var n=Object.defineProperty,r=(e,t,r)=>{let i;return(i="symbol"!=typeof t?t+"":t)in e?n(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r};let i={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},o=e=>(e instanceof Float64Array||e instanceof Float32Array||Array.isArray(e)&&e.every(e=>"number"==typeof e))&&[6,16].some(t=>e.length===t),s=e=>e instanceof DOMMatrix||e instanceof v||"object"==typeof e&&Object.keys(i).every(t=>e&&t in e),a=e=>{let t=new v,n=Array.from(e);if(!o(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);if(16===n.length){let[e,r,i,o,s,a,l,c,u,d,p,m,f,h,g,y]=n;t.m11=e,t.a=e,t.m21=s,t.c=s,t.m31=u,t.m41=f,t.e=f,t.m12=r,t.b=r,t.m22=a,t.d=a,t.m32=d,t.m42=h,t.f=h,t.m13=i,t.m23=l,t.m33=p,t.m43=g,t.m14=o,t.m24=c,t.m34=m,t.m44=y}else if(6===n.length){let[e,r,i,o,s,a]=n;t.m11=e,t.a=e,t.m12=r,t.b=r,t.m21=i,t.c=i,t.m22=o,t.d=o,t.m41=s,t.e=s,t.m42=a,t.f=a}return t},l=e=>{if(s(e))return a([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},c=e=>{if("string"!=typeof e)throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a string.`);let t=String(e).replace(/\s/g,""),n=new v,r=`CSSMatrix: invalid transform string "${e}"`;return t.split(")").filter(e=>e).forEach(e=>{let[t,i]=e.split("(");if(!i)throw TypeError(r);let o=i.split(",").map(e=>e.includes("rad")?parseFloat(e)*(180/Math.PI):parseFloat(e)),[s,l,c,u]=o,d=[s,l,c],p=[s,l,c,u];if("perspective"===t&&s&&[l,c].every(e=>void 0===e))n.m34=-1/s;else if(t.includes("matrix")&&[6,16].includes(o.length)&&o.every(e=>!Number.isNaN(+e))){let e=o.map(e=>1e-6>Math.abs(e)?0:e);n=n.multiply(a(e))}else if("translate3d"===t&&d.every(e=>!Number.isNaN(+e)))n=n.translate(s,l,c);else if("translate"===t&&s&&void 0===c)n=n.translate(s,l||0,0);else if("rotate3d"===t&&p.every(e=>!Number.isNaN(+e))&&u)n=n.rotateAxisAngle(s,l,c,u);else if("rotate"===t&&s&&[l,c].every(e=>void 0===e))n=n.rotate(0,0,s);else if("scale3d"===t&&d.every(e=>!Number.isNaN(+e))&&d.some(e=>1!==e))n=n.scale(s,l,c);else if("scale"!==t||Number.isNaN(s)||1===s&&1===l||void 0!==c)if("skew"===t&&(s||!Number.isNaN(s)&&l)&&void 0===c)n=n.skew(s,l||0);else if(["translate","rotate","scale","skew"].some(e=>t.includes(e))&&/[XYZ]/.test(t)&&s&&[l,c].every(e=>void 0===e))if("skewX"===t||"skewY"===t)n=n[t](s);else{let e=t.replace(/[XYZ]/,""),r=["X","Y","Z"].indexOf(t.replace(e,"")),i=+("scale"===e),o=[0===r?s:i,1===r?s:i,2===r?s:i];n=n[e](...o)}else throw TypeError(r);else{let e=Number.isNaN(+l)?s:l;n=n.scale(s,e,1)}}),n},u=(e,t)=>t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44],d=(e,t,n)=>{let r=new v;return r.m41=e,r.e=e,r.m42=t,r.f=t,r.m43=n,r},p=(e,t,n)=>{let r=new v,i=Math.PI/180,o=e*i,s=t*i,a=n*i,l=Math.cos(o),c=-Math.sin(o),u=Math.cos(s),d=-Math.sin(s),p=Math.cos(a),m=-Math.sin(a),f=u*p,h=-u*m;r.m11=f,r.a=f,r.m12=h,r.b=h,r.m13=d;let g=c*d*p+l*m;r.m21=g,r.c=g;let y=l*p-c*d*m;return r.m22=y,r.d=y,r.m23=-c*u,r.m31=c*m-l*d*p,r.m32=c*p+l*d*m,r.m33=l*u,r},m=(e,t,n,r)=>{let i=new v,o=Math.sqrt(e*e+t*t+n*n);if(0===o)return i;let s=e/o,a=t/o,l=n/o,c=Math.PI/360*r,u=Math.sin(c),d=Math.cos(c),p=u*u,m=s*s,f=a*a,h=l*l,g=1-2*(f+h)*p;i.m11=g,i.a=g;let y=2*(s*a*p+l*u*d);i.m12=y,i.b=y,i.m13=2*(s*l*p-a*u*d);let x=2*(a*s*p-l*u*d);i.m21=x,i.c=x;let b=1-2*(h+m)*p;return i.m22=b,i.d=b,i.m23=2*(a*l*p+s*u*d),i.m31=2*(l*s*p+a*u*d),i.m32=2*(l*a*p-s*u*d),i.m33=1-2*(m+f)*p,i},f=(e,t,n)=>{let r=new v;return r.m11=e,r.a=e,r.m22=t,r.d=t,r.m33=n,r},h=(e,t)=>{let n=new v;if(e){let t=Math.tan(e*Math.PI/180);n.m21=t,n.c=t}if(t){let e=Math.tan(t*Math.PI/180);n.m12=e,n.b=e}return n},g=e=>h(e,0),y=e=>h(0,e),x=(e,t)=>a([t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44]);class v{constructor(e){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,e?this.setMatrixValue(e):this}get isIdentity(){return 1===this.m11&&0===this.m12&&0===this.m13&&0===this.m14&&0===this.m21&&1===this.m22&&0===this.m23&&0===this.m24&&0===this.m31&&0===this.m32&&1===this.m33&&0===this.m34&&0===this.m41&&0===this.m42&&0===this.m43&&1===this.m44}get is2D(){return 0===this.m31&&0===this.m32&&1===this.m33&&0===this.m34&&0===this.m43&&1===this.m44}setMatrixValue(e){return"string"==typeof e&&e.length&&"none"!==e?c(e):Array.isArray(e)||e instanceof Float64Array||e instanceof Float32Array?a(e):"object"==typeof e?l(e):this}toFloat32Array(e){return Float32Array.from(u(this,e))}toFloat64Array(e){return Float64Array.from(u(this,e))}toString(){let{is2D:e}=this,t=this.toFloat64Array(e).join(", ");return`${e?"matrix":"matrix3d"}(${t})`}toJSON(){let{is2D:e,isIdentity:t}=this;return{...this,is2D:e,isIdentity:t}}multiply(e){return x(this,e)}translate(e,t,n){let r=t,i=n;return typeof r>"u"&&(r=0),typeof i>"u"&&(i=0),x(this,d(e,r,i))}scale(e,t,n){let r=t,i=n;return typeof r>"u"&&(r=e),typeof i>"u"&&(i=1),x(this,f(e,r,i))}rotate(e,t,n){let r=e,i=t||0,o=n||0;return"number"==typeof e&&typeof t>"u"&&typeof n>"u"&&(o=r,r=0,i=0),x(this,p(r,i,o))}rotateAxisAngle(e,t,n,r){if([e,t,n,r].some(e=>Number.isNaN(+e)))throw TypeError("CSSMatrix: expecting 4 values");return x(this,m(e,t,n,r))}skewX(e){return x(this,g(e))}skewY(e){return x(this,y(e))}skew(e,t){return x(this,h(e,t))}transformPoint(e){let t=this.m11*e.x+this.m21*e.y+this.m31*e.z+this.m41*e.w,n=this.m12*e.x+this.m22*e.y+this.m32*e.z+this.m42*e.w,r=this.m13*e.x+this.m23*e.y+this.m33*e.z+this.m43*e.w,i=this.m14*e.x+this.m24*e.y+this.m34*e.z+this.m44*e.w;return e instanceof DOMPoint?new DOMPoint(t,n,r,i):{x:t,y:n,z:r,w:i}}}r(v,"Translate",d),r(v,"Rotate",p),r(v,"RotateAxisAngle",m),r(v,"Scale",f),r(v,"SkewX",g),r(v,"SkewY",y),r(v,"Skew",h),r(v,"Multiply",x),r(v,"fromArray",a),r(v,"fromMatrix",l),r(v,"fromString",c),r(v,"toArray",u),r(v,"isCompatibleArray",o),r(v,"isCompatibleObject",s);var b=(e,t,n)=>{let[r,i]=e,[o,s]=t;return[r+(o-r)*n,i+(s-i)*n]},S=(e,t)=>Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),w=(e,t,n,r)=>S([e,t],[n,r]),A=(e,t,n,r,i)=>{let o={x:e,y:t};if("number"==typeof i){let s=S([e,t],[n,r]);if(i<=0)o={x:e,y:t};else if(i>=s)o={x:n,y:r};else{let[a,l]=b([e,t],[n,r],i/s);o={x:a,y:l}}}return o},M=(e,t,n,r)=>{let{min:i,max:o}=Math;return[i(e,n),i(t,r),o(e,n),o(t,r)]},P={getLineBBox:M,getLineLength:w,getPointAtLineLength:A},C=(e,t,n)=>{let r=n/2;return Math.abs(Math.sqrt(e**2*Math.sin(r)**2+t**2*Math.cos(r)**2)*n)},_=(e,t,n,r,i,o)=>{let{sin:s,cos:a}=Math,l=a(i),c=s(i),u=n*a(o),d=r*s(o);return[e+l*u-c*d,t+c*u+l*d]},k=(e,t)=>{let{x:n,y:r}=e,{x:i,y:o}=t,s=Math.sqrt((n**2+r**2)*(i**2+o**2));return(n*o-r*i<0?-1:1)*Math.acos((n*i+r*o)/s)},B=(e,t,n,r,i,o,s,a,l)=>{let{abs:c,sin:u,cos:d,sqrt:p,PI:m}=Math,f=c(n),h=c(r),g=(i%360+360)%360*(m/180);if(e===a&&t===l)return{rx:f,ry:h,startAngle:0,endAngle:0,center:{x:a,y:l}};if(0===f||0===h)return{rx:f,ry:h,startAngle:0,endAngle:0,center:{x:(a+e)/2,y:(l+t)/2}};let y=(e-a)/2,x=(t-l)/2,v={x:d(g)*y+u(g)*x,y:-u(g)*y+d(g)*x},b=v.x**2/f**2+v.y**2/h**2;b>1&&(f*=p(b),h*=p(b));let S=(f**2*h**2-f**2*v.y**2-h**2*v.x**2)/(f**2*v.y**2+h**2*v.x**2),w=(o!==s?1:-1)*p(S=S<0?0:S),A={x:w*(f*v.y/h),y:w*(-(h*v.x)/f)},M={x:d(g)*A.x-u(g)*A.y+(e+a)/2,y:u(g)*A.x+d(g)*A.y+(t+l)/2},P={x:(v.x-A.x)/f,y:(v.y-A.y)/h},C=k({x:1,y:0},P),_=k(P,{x:(-v.x-A.x)/f,y:(-v.y-A.y)/h});!s&&_>0?_-=2*m:s&&_<0&&(_+=2*m);let B=C+(_%=2*m);return{center:M,startAngle:C,endAngle:B,rx:f,ry:h}},j=(e,t,n,r,i,o,s,a,l)=>{let{rx:c,ry:u,startAngle:d,endAngle:p}=B(e,t,n,r,i,o,s,a,l);return C(c,u,p-d)},T=(e,t,n,r,i,o,s,a,l,c)=>{let u={x:e,y:t},{center:d,rx:p,ry:m,startAngle:f,endAngle:h}=B(e,t,n,r,i,o,s,a,l);if("number"==typeof c){let n=C(p,m,h-f);if(c<=0)u={x:e,y:t};else if(c>=n)u={x:a,y:l};else{if(e===a&&t===l)return{x:a,y:l};if(0===p||0===m)return A(e,t,a,l,c);let{PI:r,cos:o,sin:s}=Math,g=(i%360+360)%360*(r/180),y=f+c/n*(h-f),x=p*o(y),v=m*s(y);u={x:o(g)*x-s(g)*v+d.x,y:s(g)*x+o(g)*v+d.y}}}return u},N=(e,t,n,r,i,o,s,a,l)=>{let{center:c,rx:u,ry:d,startAngle:p,endAngle:m}=B(e,t,n,r,i,o,s,a,l),f=m-p,{min:h,max:g,tan:y,atan2:x,PI:v}=Math,{x:b,y:S}=c,w=i*v/180,A=y(w),M=x(-d*A,u),P=x(d,u*A),C=[a],k=[l],j=h(e,a),T=g(e,a),N=h(t,l),I=g(t,l),R=_(b,S,u,d,w,m-1e-5*f),L=_(b,S,u,d,w,m-.99999*f);if(R[0]>T||L[0]>T){let e=_(b,S,u,d,w,M);C.push(e[0]),k.push(e[1])}if(R[0]<j||L[0]<j){let e=_(b,S,u,d,w,M+v);C.push(e[0]),k.push(e[1])}if(R[1]<N||L[1]<N){let e=_(b,S,u,d,w,P+v);C.push(e[0]),k.push(e[1])}if(R[1]>I||L[1]>I){let e=_(b,S,u,d,w,P);C.push(e[0]),k.push(e[1])}return j=h.apply([],C),N=h.apply([],k),[j,N,T=g.apply([],C),I=g.apply([],k)]},I={angleBetween:k,arcLength:C,arcPoint:_,getArcBBox:N,getArcLength:j,getArcProps:B,getPointAtArcLength:T},R=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],L=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],F=e=>{let t=[];for(let n=e,r=n.length,i=r-1;r>1;r-=1,i-=1){let e=[];for(let t=0;t<i;t+=1)e.push({x:i*(n[t+1].x-n[t].x),y:i*(n[t+1].y-n[t].y),t:0});t.push(e),n=e}return t},D=(e,t)=>{if(0===t)return e[0].t=0,e[0];let n=e.length-1;if(1===t)return e[n].t=1,e[n];let r=1-t,i=e;if(0===n)return e[0].t=t,e[0];if(1===n)return{x:r*i[0].x+t*i[1].x,y:r*i[0].y+t*i[1].y,t:t};let o=r*r,s=t*t,a=0,l=0,c=0,u=0;return 2===n?(i=[i[0],i[1],i[2],{x:0,y:0}],a=o,l=r*t*2,c=s):3===n&&(a=o*r,l=o*t*3,c=r*s*3,u=t*s),{x:a*i[0].x+l*i[1].x+c*i[2].x+u*i[3].x,y:a*i[0].y+l*i[1].y+c*i[2].y+u*i[3].y,t:t}},E=(e,t)=>{let n=e(t);return Math.sqrt(n.x*n.x+n.y*n.y)},O=e=>{let t=R.length,n=0;for(let r=0,i;r<t;r++)i=.5*R[r]+.5,n+=L[r]*E(e,i);return .5*n},V=e=>{let t=[];for(let n=0,r=e.length;n<r;n+=2)t.push({x:e[n],y:e[n+1]});let n=F(t);return O(e=>D(n[0],e))},q=([e,t,n])=>{let r=Math.min(e,n),i=Math.max(e,n);if(t>=e?n>=t:n<=t)return[r,i];let o=(e*n-t*t)/(e-2*t+n);return o<r?[o,i]:[r,o]},z=([e,t,n,r])=>{let i=e-3*t+3*n-r;if(1e-8>Math.abs(i))return e===r&&e===t?[e,r]:q([e,-.5*e+1.5*t,e-3*t+3*n]);let o=-e*n+e*r-t*n-t*r+t*t+n*n;if(o<=0)return[Math.min(e,r),Math.max(e,r)];let s=Math.sqrt(o),a=Math.min(e,r),l=Math.max(e,r),c=e-2*t+n;for(let o=(c+s)/i,u=1;u<=2;o=(c-s)/i,u++)if(o>0&&o<1){let i=e*(1-o)*(1-o)*(1-o)+3*t*(1-o)*(1-o)*o+3*n*(1-o)*o*o+r*o*o*o;i<a&&(a=i),i>l&&(l=i)}return[a,l]},H={bezierLength:O,calculateBezier:E,CBEZIER_MINMAX_EPSILON:1e-8,computeBezier:D,Cvalues:L,deriveBezier:F,getBezierLength:V,minmaxC:z,minmaxQ:q,Tvalues:R},U=([e,t,n,r,i,o,s,a],l)=>{let c=1-l;return{x:c**3*e+3*c**2*l*n+3*c*l**2*i+l**3*s,y:c**3*t+3*c**2*l*r+3*c*l**2*o+l**3*a}},$=(e,t,n,r,i,o,s,a)=>V([e,t,n,r,i,o,s,a]),W=(e,t,n,r,i,o,s,a,l)=>{let c={x:e,y:t};if("number"==typeof l){let u=V([e,t,n,r,i,o,s,a]);l<=0||(c=l>=u?{x:s,y:a}:U([e,t,n,r,i,o,s,a],l/u))}return c},G=(e,t,n,r,i,o,s,a)=>{let l=z([e,n,i,s]),c=z([t,r,o,a]);return[l[0],c[0],l[1],c[1]]},Q={getCubicBBox:G,getCubicLength:$,getPointAtCubicLength:W,getPointAtCubicSegmentLength:U},Z=([e,t,n,r,i,o],s)=>{let a=1-s;return{x:a**2*e+2*a*s*n+s**2*i,y:a**2*t+2*a*s*r+s**2*o}},X=(e,t,n,r,i,o)=>V([e,t,n,r,i,o]),Y=(e,t,n,r,i,o,s)=>{let a={x:e,y:t};if("number"==typeof s){let l=V([e,t,n,r,i,o]);s<=0||(a=s>=l?{x:i,y:o}:Z([e,t,n,r,i,o],s/l))}return a},J=(e,t,n,r,i,o)=>{let s=q([e,n,i]),a=q([t,r,o]);return[s[0],a[0],s[1],a[1]]},K={getPointAtQuadLength:Y,getPointAtQuadSegmentLength:Z,getQuadBBox:J,getQuadLength:X},ee={polygonArea:e=>{let t=e.length,n=-1,r,i=e[t-1],o=0;for(;++n<t;)r=i,i=e[n],o+=r[1]*i[0]-r[0]*i[1];return o/2},polygonLength:e=>e.reduce((t,n,r)=>r?t+S(e[r-1],n):0,0)},et=(e,t,n)=>{let{sin:r,cos:i}=Math;return{x:e*i(n)-t*r(n),y:e*r(n)+t*i(n)}},en=(e,t)=>{let n=t>=1?10**t:1;return t>0?Math.round(e*n)/n:Math.round(e)},er={origin:[0,0,0],round:4},ei={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},eo=e=>{let t=e.pathValue[e.segmentStart],n=t.toLowerCase(),{data:r}=e;for(;r.length>=ei[n]&&("m"===n&&r.length>2?(e.segments.push([t].concat(r.splice(0,2))),n="l",t="m"===t?"l":"L"):e.segments.push([t].concat(r.splice(0,ei[n]))),ei[n]););},es="SVGPathCommander Error",ea=e=>{let{index:t,pathValue:n}=e,r=n.charCodeAt(t);if(48===r){e.param=0,e.index+=1;return}if(49===r){e.param=1,e.index+=1;return}e.err=`${es}: invalid Arc flag "${n[t]}", expecting 0 or 1 at index ${t}`},el=e=>e>=48&&e<=57,ec="Invalid path value",eu=e=>{let{max:t,pathValue:n,index:r}=e,i=r,o=!1,s=!1,a=!1,l=!1,c;if(i>=t){e.err=`${es}: ${ec} at index ${i}, "pathValue" is missing param`;return}if((43===(c=n.charCodeAt(i))||45===c)&&(i+=1,c=n.charCodeAt(i)),!el(c)&&46!==c){e.err=`${es}: ${ec} at index ${i}, "${n[i]}" is not a number`;return}if(46!==c){if(o=48===c,i+=1,c=n.charCodeAt(i),o&&i<t&&c&&el(c)){e.err=`${es}: ${ec} at index ${r}, "${n[r]}" illegal number`;return}for(;i<t&&el(n.charCodeAt(i));)i+=1,s=!0;c=n.charCodeAt(i)}if(46===c){for(l=!0,i+=1;el(n.charCodeAt(i));)i+=1,a=!0;c=n.charCodeAt(i)}if(101===c||69===c){if(l&&!s&&!a){e.err=`${es}: ${ec} at index ${i}, "${n[i]}" invalid float exponent`;return}if(i+=1,(43===(c=n.charCodeAt(i))||45===c)&&(i+=1),i<t&&el(n.charCodeAt(i)))for(;i<t&&el(n.charCodeAt(i));)i+=1;else{e.err=`${es}: ${ec} at index ${i}, "${n[i]}" invalid integer exponent`;return}}e.index=i,e.param=+e.pathValue.slice(r,i)},ed=e=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(e),ep=e=>{let{pathValue:t,max:n}=e;for(;e.index<n&&ed(t.charCodeAt(e.index));)e.index+=1},em=e=>{switch(32|e){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},ef=e=>el(e)||43===e||45===e||46===e,eh=e=>(32|e)==97,eg=e=>{switch(32|e){case 109:case 77:return!0;default:return!1}},ey=e=>{let{max:t,pathValue:n,index:r,segments:i}=e,o=n.charCodeAt(r),s=ei[n[r].toLowerCase()];if(e.segmentStart=r,!em(o)){e.err=`${es}: ${ec} "${n[r]}" is not a path command at index ${r}`;return}let a=i[i.length-1];if(!eg(o)&&a?.[0]?.toLocaleLowerCase()==="z"){e.err=`${es}: ${ec} "${n[r]}" is not a MoveTo path command at index ${r}`;return}if(e.index+=1,ep(e),e.data=[],!s)return void eo(e);for(;;){for(let r=s;r>0;r-=1){if(eh(o)&&(3===r||4===r)?ea(e):eu(e),e.err.length)return;e.data.push(e.param),ep(e),e.index<t&&44===n.charCodeAt(e.index)&&(e.index+=1,ep(e))}if(e.index>=e.max||!ef(n.charCodeAt(e.index)))break}eo(e)},ex=class{constructor(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}},ev=e=>{if("string"!=typeof e)return e.slice(0);let t=new ex(e);for(ep(t);t.index<t.max&&!t.err.length;)ey(t);if(t.err.length)throw TypeError(t.err);return t.segments.length&&(t.segments[0][0]="M"),t.segments},eb=(e,t,n,r)=>{let[i]=e,o=i.toUpperCase(),s=o===i;if(0===t||s)return e;if("A"===o)return[o,e[1],e[2],e[3],e[4],e[5],e[6]+n,e[7]+r];if("V"===o)return[o,e[1]+r];if("H"===o)return[o,e[1]+n];if("L"===o)return[o,e[1]+n,e[2]+r];{let t=[],i=e.length;for(let o=1;o<i;o+=1)t.push(e[o]+(o%2?n:r));return[o].concat(t)}},eS=(e,t)=>{let n=e.length,r,i="M",o="M",s=!1,a=0,l=0,c=0,u=0,d=0;for(let p=0;p<n;p+=1){r=e[p],[i]=r,d=r.length,s=(o=i.toUpperCase())!==i;let m=t(r,p,a,l);if(!1===m)break;"Z"===o?(a=c,l=u):"H"===o?a=r[1]+(s?a:0):"V"===o?l=r[1]+(s?l:0):(a=r[d-2]+(s?a:0),l=r[d-1]+(s?l:0),"M"===o&&(c=a,u=l)),m&&(e[p]=m,"C"===m[0]&&(n=e.length))}return e},ew=e=>eS(ev(e),eb),eA=(e,t,n,r)=>{let[i]=e,o=i.toLowerCase(),s=i===o;if(0===t||s)return e;if("a"===o)return[o,e[1],e[2],e[3],e[4],e[5],e[6]-n,e[7]-r];if("v"===o)return[o,e[1]-r];if("h"===o)return[o,e[1]-n];if("l"===o)return[o,e[1]-n,e[2]-r];{let t=[],i=e.length;for(let o=1;o<i;o+=1)t.push(e[o]-(o%2?n:r));return[o].concat(t)}},eM=e=>eS(ev(e),eA),eP=(e,t,n,r,i,o,s,a,l,c)=>{let u=e,d=t,p=n,m=r,f=a,h=l,g=120*Math.PI/180,y=Math.PI/180*(+i||0),x=[],v,b,S,w,A;if(c)[b,S,w,A]=c;else{u=(v=et(u,d,-y)).x,d=v.y,f=(v=et(f,h,-y)).x,h=v.y;let e=(u-f)/2,t=(d-h)/2,n=e*e/(p*p)+t*t/(m*m);n>1&&(p*=n=Math.sqrt(n),m*=n);let r=p*p,i=m*m,a=(o===s?-1:1)*Math.sqrt(Math.abs((r*i-r*t*t-i*e*e)/(r*t*t+i*e*e)));w=a*p*t/m+(u+f)/2,A=-(a*m)*e/p+(d+h)/2,b=Math.asin(((d-A)/m*1e9|0)/1e9),S=Math.asin(((h-A)/m*1e9|0)/1e9),b=u<w?Math.PI-b:b,S=f<w?Math.PI-S:S,b<0&&(b=2*Math.PI+b),S<0&&(S=2*Math.PI+S),s&&b>S&&(b-=2*Math.PI),!s&&S>b&&(S-=2*Math.PI)}let M=S-b;if(Math.abs(M)>g){let e=S,t=f,n=h;x=eP(f=w+p*Math.cos(S=b+g*(s&&S>b?1:-1)),h=A+m*Math.sin(S),p,m,i,0,s,t,n,[S,e,w,A])}M=S-b;let P=Math.cos(b),C=Math.cos(S),_=Math.tan(M/4),k=4/3*p*_,B=4/3*m*_,j=[u,d],T=[u+k*Math.sin(b),d-B*P],N=[f+k*Math.sin(S),h-B*C],I=[f,h];if(T[0]=2*j[0]-T[0],T[1]=2*j[1]-T[1],c)return[T[0],T[1],N[0],N[1],I[0],I[1]].concat(x);x=[T[0],T[1],N[0],N[1],I[0],I[1]].concat(x);let R=[];for(let e=0,t=x.length;e<t;e+=1)R[e]=e%2?et(x[e-1],x[e],y).y:et(x[e],x[e+1],y).x;return R},eC=(e,t,n,r,i,o)=>[.3333333333333333*e+2/3*n,.3333333333333333*t+2/3*r,.3333333333333333*i+2/3*n,.3333333333333333*o+2/3*r,i,o],e_=(e,t,n,r)=>{let i=b([e,t],[n,r],.3333333333333333),o=b([e,t],[n,r],2/3);return[i[0],i[1],o[0],o[1],n,r]},ek=(e,t)=>{let[n]=e,r=e.slice(1).map(Number),[i,o]=r,{x1:s,y1:a,x:l,y:c}=t;return"TQ".includes(n)||(t.qx=null,t.qy=null),"M"===n?(t.x=i,t.y=o,e):"A"===n?["C"].concat(eP(s,a,r[0],r[1],r[2],r[3],r[4],r[5],r[6])):"Q"===n?(t.qx=i,t.qy=o,["C"].concat(eC(s,a,r[0],r[1],r[2],r[3]))):"L"===n?["C"].concat(e_(s,a,i,o)):"Z"===n?["C"].concat(e_(s,a,l,c)):e},eB=(e,t)=>{let[n]=e,r=n.toUpperCase(),i=n!==r,{x1:o,y1:s,x2:a,y2:l,x:c,y:u}=t,d=e.slice(1),p=d.map((e,t)=>e+(i?t%2?u:c:0));if("TQ".includes(r)||(t.qx=null,t.qy=null),"A"===r)return["A"].concat(p=d.slice(0,-2).concat(d[5]+(i?c:0),d[6]+(i?u:0)));if("H"===r)return["L",e[1]+(i?c:0),s];if("V"===r)return["L",o,e[1]+(i?u:0)];if("L"===r)return["L",e[1]+(i?c:0),e[2]+(i?u:0)];if("M"===r)return["M",e[1]+(i?c:0),e[2]+(i?u:0)];if("C"===r)return["C"].concat(p);if("S"===r){let e=2*o-a,n=2*s-l;return t.x1=e,t.y1=n,["C",e,n].concat(p)}if("T"===r){let e=2*o-(t.qx?t.qx:0),n=2*s-(t.qy?t.qy:0);return t.qx=e,t.qy=n,["Q",e,n].concat(p)}if("Q"===r){let[e,n]=p;return t.qx=e,t.qy=n,["Q"].concat(p)}return"Z"===r?["Z"]:e},ej={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},eT=e=>{let t={...ej},n=ev(e);return eS(n,(e,r,i,o)=>{t.x=i,t.y=o;let s=ek(eB(e,t),t);"C"===s[0]&&s.length>7&&(n.splice(r+1,0,["C"].concat(s.slice(7))),s=s.slice(0,7));let a=s.length;return t.x1=+s[a-2],t.y1=+s[a-1],t.x2=+s[a-4]||t.x1,t.y2=+s[a-3]||t.y1,s})},eN=(e,t)=>{let n=e.length,{round:r}=er,i=e[0],o="";r="off"===t||"number"==typeof t&&t>=0?t:"number"==typeof r&&r>=0?r:"off";for(let t=0;t<n;t+=1){let[n]=i=e[t],s=i.slice(1);if(o+=n,"off"===r)o+=s.join(" ");else{let e=0,t=s.length;for(;e<t;)o+=en(s[e],r),e!==t-1&&(o+=" "),e+=1}}return o},eI=e=>{if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};let t=ev(e),n="M",r=0,i=0,{max:o,min:s}=Math,a=1/0,l=1/0,c=-1/0,u=-1/0,d=0,p=0,m=0,f=0,h=0,g=0,y=0,x=0,v=0,b=0;eS(t,(e,t,S,w)=>{[n]=e;let A=n.toUpperCase(),P=A!==n?eb(e,t,S,w):e.slice(0),C="V"===A?["L",S,P[1]]:"H"===A?["L",P[1],w]:P;if([n]=C,"TQ".includes(A)||(v=0,b=0),"M"===n)[,r,i]=C,d=r,p=i,m=r,f=i;else if("L"===n)[d,p,m,f]=M(S,w,C[1],C[2]);else if("A"===n)[d,p,m,f]=N(S,w,C[1],C[2],C[3],C[4],C[5],C[6],C[7]);else if("S"===n){let e=2*h-y,t=2*g-x;[d,p,m,f]=G(S,w,e,t,C[1],C[2],C[3],C[4])}else"C"===n?[d,p,m,f]=G(S,w,C[1],C[2],C[3],C[4],C[5],C[6]):"T"===n?(v=2*h-v,b=2*g-b,[d,p,m,f]=J(S,w,v,b,C[1],C[2])):"Q"===n?(v=C[1],b=C[2],[d,p,m,f]=J(S,w,C[1],C[2],C[3],C[4])):"Z"===n&&([d,p,m,f]=M(S,w,r,i));a=s(d,a),l=s(p,l),c=o(m,c),u=o(f,u),[h,g]="Z"===n?[r,i]:C.slice(-2),[y,x]="C"===n?[C[3],C[4]]:"S"===n?[C[1],C[2]]:[h,g]});let S=c-a,w=u-l;return{width:S,height:w,x:a,y:l,x2:c,y2:u,cx:a+S/2,cy:l+w/2,cz:Math.max(S,w)+Math.min(S,w)/2}},eR=e=>{let t=ev(e),n=0,r=0,i=0,o=0,s=0,a=0,l="M",c=0,u=0,d=0;return eS(t,(e,t,p,m)=>{[l]=e;let f=l.toUpperCase(),h=f!==l?eb(e,t,p,m):e.slice(0),g="V"===f?["L",p,h[1]]:"H"===f?["L",h[1],m]:h;[l]=g,"TQ".includes(f)||(s=0,a=0),"M"===l?[,c,u]=g:"L"===l?d+=w(p,m,g[1],g[2]):"A"===l?d+=j(p,m,g[1],g[2],g[3],g[4],g[5],g[6],g[7]):"S"===l?d+=$(p,m,2*n-i,2*r-o,g[1],g[2],g[3],g[4]):"C"===l?d+=$(p,m,g[1],g[2],g[3],g[4],g[5],g[6]):"T"===l?d+=X(p,m,s=2*n-s,a=2*r-a,g[1],g[2]):"Q"===l?(s=g[1],a=g[2],d+=X(p,m,g[1],g[2],g[3],g[4])):"Z"===l&&(d+=w(p,m,c,u)),[n,r]="Z"===l?[c,u]:g.slice(-2),[i,o]="C"===l?[g[3],g[4]]:"S"===l?[g[1],g[2]]:[n,r]}),d},eL=e=>{let t=ev(e),n={...ej};return eS(t,(e,t,r,i)=>{n.x=r,n.y=i;let o=eB(e,n),s=o.length;return n.x1=+o[s-2],n.y1=+o[s-1],n.x2=+o[s-4]||n.x1,n.y2=+o[s-3]||n.y1,o})},eF=(e,t)=>{let n=eL(e),r=!1,i=[],o="M",s=0,a=0,[l,c]=n[0].slice(1),u={x:l,y:c},d=0,p=u,m=0;return"number"!=typeof t||t<1e-5?u:(eS(n,(e,n,f,h)=>{if([o]=e,i=(r="M"===o)?i:[f,h].concat(e.slice(1)),r?([,l,c]=e,u={x:l,y:c},d=0):"L"===o?(u=A(i[0],i[1],i[2],i[3],t-m),d=w(i[0],i[1],i[2],i[3])):"A"===o?(u=T(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],t-m),d=j(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])):"C"===o?(u=W(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],t-m),d=$(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7])):"Q"===o?(u=Y(i[0],i[1],i[2],i[3],i[4],i[5],t-m),d=X(i[0],i[1],i[2],i[3],i[4],i[5])):"Z"===o&&(i=[f,h,l,c],u={x:l,y:c},d=w(i[0],i[1],i[2],i[3])),[s,a]=i.slice(-2),!(m<t))return!1;p=u,m+=d}),t>m-1e-5?{x:s,y:a}:p)},eD=(e,t)=>{let n=ev(e),r=n.slice(0),i=eR(r),o=r.length-1,s=0,a=0,l=n[0];if(o<=0||!t||!Number.isFinite(t))return{segment:l,index:0,length:a,lengthAtSegment:s};if(t>=i)return a=i-(s=eR(r=n.slice(0,-1))),{segment:l=n[o],index:o,length:a,lengthAtSegment:s};let c=[];for(;o>0;)l=r[o],a=i-(s=eR(r=r.slice(0,-1))),i=s,c.push({segment:l,index:o,length:a,lengthAtSegment:s}),o-=1;return c.find(({lengthAtSegment:e})=>e<=t)},eE=(e,t)=>{let n=ev(e),r=eL(n),i=eR(r),o=e=>{let n=e.x-t.x,r=e.y-t.y;return n*n+r*r},s=8,a,l={x:0,y:0},c=0,u=0,d=1/0;for(let e=0;e<=i;e+=s)(c=o(a=eF(r,e)))<d&&(l=a,u=e,d=c);s/=2;let p,m,f=0,h=0,g=0,y=0;for(;s>1e-6&&(g=o(p=eF(r,f=u-s)),y=o(m=eF(r,h=u+s)),f>=0&&g<d?(l=p,u=f,d=g):h<=i&&y<d?(l=m,u=h,d=y):s/=2,!(s<1e-5)););return{closest:l,distance:Math.sqrt(d),segment:eD(n,u)}},eO=(e,t)=>eE(e,t).closest,eV=e=>{let t=0,n=0,r=0;return eT(e).map(e=>{if("M"===e[0])return[,t,n]=e,0;{let i,o,s,a,l,c,u,d;return i=t,o=n,s=e[1],a=e[2],l=e[3],c=e[4],u=e[5],r=3*(((d=e[6])-o)*(s+l)-(u-i)*(a+c)+a*(i-l)-s*(o-c)+d*(l+i/3)-u*(c+o/3))/20,[t,n]=e.slice(-2),r}}).reduce((e,t)=>e+t,0)},eq=e=>eV(eT(e))>=0,ez=(e,t)=>eD(e,t).segment,eH=(e,t)=>eE(e,t).segment,eU=e=>Array.isArray(e)&&e.every(e=>{let t=e[0].toLowerCase();return ei[t]===e.length-1&&"achlmqstvz".includes(t)&&e.slice(1).every(Number.isFinite)})&&e.length>0,e$=e=>eU(e)&&e.every(([e])=>e===e.toUpperCase()),eW=e=>e$(e)&&e.every(([e])=>"ACLMQZ".includes(e)),eG=e=>eW(e)&&e.every(([e])=>"MC".includes(e)),eQ=(e,t)=>{let{distance:n}=eE(e,t);return 1e-5>Math.abs(n)},eZ=e=>eU(e)&&e.slice(1).every(([e])=>e===e.toLowerCase()),eX=e=>{if("string"!=typeof e||!e.length)return!1;let t=new ex(e);for(ep(t);t.index<t.max&&!t.err.length;)ey(t);return!t.err.length&&"mM".includes(t.segments[0][0])},eY={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]},eJ=e=>null!=e&&"object"==typeof e&&1===e.nodeType,eK=e=>{let t,n,r,i,o,s,a=Object.keys(eY),l=eJ(e),c=l?e.tagName:null;if(c&&[...a,"path"].every(e=>c!==e))throw TypeError(`${es}: "${c}" is not SVGElement`);let u=l?c:e.type,d=eY[u],p={type:u};l?d.forEach(t=>{p[t]=e.getAttribute(t)}):Object.assign(p,e);let m=[];return"circle"===u?m=(e=>{let{cx:t,cy:n,r:r}=e;return[t,n,r]=[t,n,r].map(e=>+e),[["M",t-r,n],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,-2*r,0]]})(p):"ellipse"===u?m=(e=>{let{cx:t,cy:n}=e,r=e.rx||0,i=e.ry||r;return[t,n,r,i]=[t,n,r,i].map(e=>+e),[["M",t-r,n],["a",r,i,0,1,0,2*r,0],["a",r,i,0,1,0,-2*r,0]]})(p):["polyline","polygon"].includes(u)?m=(e=>{let t=[],n=(e.points||"").trim().split(/[\s|,]/).map(e=>+e),r=0;for(;r<n.length;)t.push([r?"L":"M",n[r],n[r+1]]),r+=2;return"polygon"===e.type?[...t,["z"]]:t})(p):"rect"===u?(t=+p.x||0,n=+p.y||0,r=+p.width,i=+p.height,o=+(p.rx||0),s=+(p.ry||o),m=o||s?(2*o>r&&(o-=(2*o-r)/2),2*s>i&&(s-=(2*s-i)/2),[["M",t+o,n],["h",r-2*o],["s",o,0,o,s],["v",i-2*s],["s",0,s,-o,s],["h",-r+2*o],["s",-o,0,-o,-s],["v",-i+2*s],["s",0,-s,o,-s]]):[["M",t,n],["h",r],["v",i],["H",t],["Z"]]):"line"===u?m=(e=>{let{x1:t,y1:n,x2:r,y2:i}=e;return[t,n,r,i]=[t,n,r,i].map(e=>+e),[["M",t,n],["L",r,i]]})(p):["glyph","path"].includes(u)&&(m=ev(l?e.getAttribute("d")||"":e.d||"")),!!eU(m)&&!!m.length&&m},e0=(e,t,n)=>{let r=n||document,i=Object.keys(eY),o=eJ(e),s=o?e.tagName:null;if("path"===s)throw TypeError(`${es}: "${s}" is already SVGPathElement`);if(s&&i.every(e=>s!==e))throw TypeError(`${es}: "${s}" is not SVGElement`);let a=r.createElementNS("http://www.w3.org/2000/svg","path"),l=o?s:e.type,c=eY[l],u={type:l},d=er.round,p=eK(e),m=p&&p.length?eN(p,d):"";return o?(c.forEach(t=>{u[t]=e.getAttribute(t)}),Object.values(e.attributes).forEach(({name:e,value:t})=>{c.includes(e)||a.setAttribute(e,t)})):(Object.assign(u,e),Object.keys(u).forEach(e=>{c.includes(e)||"type"===e||a.setAttribute(e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),u[e])})),!!eX(m)&&(a.setAttribute("d",m),t&&o&&(e.before(a,e),e.remove()),a)},e1=(e,t,n,r)=>{let[i]=e,{round:o}=er,s="number"==typeof o?o:4,a=t.slice(1),{x1:l,y1:c,x2:u,y2:d,x:p,y:m}=n,[f,h]=a.slice(-2);if("TQ".includes(i)||(n.qx=null,n.qy=null),"L"===i){if(en(p,s)===en(f,s))return["V",h];if(en(m,s)===en(h,s))return["H",f]}else if("C"===i){let[e,t]=a;if(n.x1=e,n.y1=t,"CS".includes(r)&&(en(e,s)===en(2*l-u,s)&&en(t,s)===en(2*c-d,s)||en(l,s)===en(2*u-p,s)&&en(c,s)===en(2*d-m,s)))return["S",a[2],a[3],a[4],a[5]]}else if("Q"===i){let[e,t]=a;if(n.qx=e,n.qy=t,"QT".includes(r)&&en(e,s)===en(2*l-u,s)&&en(t,s)===en(2*c-d,s))return["T",a[2],a[3]]}return e},e2=(e,t)=>{let n=e.slice(1).map(e=>en(e,t));return[e[0]].concat(n)},e3=(e,t)=>{let n=ew(e),r="number"==typeof t&&t>=0?t:2,i={...ej},o=[],s="M";return eS(n,(e,t,n,a)=>{i.x=n,i.y=a;let l=eB(e,i),c=e;if([s]=e,o[t]=s,t){let s=e1(e,l,i,o[t-1]),u=e2(s,r),d=u.join(""),p=e2(eA(s,t,n,a),r),m=p.join("");c=d.length<m.length?u:p}let u=l.length;return i.x1=+l[u-2],i.y1=+l[u-1],i.x2=+l[u-4]||i.x1,i.y2=+l[u-3]||i.y1,c})},e4=e=>{let t=ew(e),n=eL(t),r=t.length,i="Z"===t[r-1][0],o=eS(t,(e,o)=>{let s=n[o],a=o&&t[o-1],l=a&&a[0],c=t[o+1],u=c&&c[0],[d]=e,[p,m]=n[o?o-1:r-1].slice(-2),f=e;switch(d){case"M":f=i?["Z"]:[d,p,m];break;case"A":f=[d,e[1],e[2],e[3],e[4],+(1!==e[5]),p,m];break;case"C":f=c&&"S"===u?["S",e[1],e[2],p,m]:[d,e[3],e[4],e[1],e[2],p,m];break;case"S":f=l&&"CS".includes(l)&&(!c||"S"!==u)?["C",s[3],s[4],s[1],s[2],p,m]:[d,s[1],s[2],p,m];break;case"Q":f=c&&"T"===u?["T",p,m]:[d,e[1],e[2],p,m];break;case"T":f=l&&"QT".includes(l)&&(!c||"T"!==u)?["Q",s[1],s[2],p,m]:[d,p,m];break;case"Z":f=["M",p,m];break;case"H":f=[d,p];break;case"V":f=[d,m];break;default:f=[d].concat(e.slice(1,-2),p,m)}return f});return i?o.reverse():[o[0]].concat(o.slice(1).reverse())},e5=e=>{let t=[],n,r=-1,i=0,o=0,s=0,a=0,l={...ej};return e.forEach(e=>{let[c]=e,u=c.toUpperCase(),d=c.toLowerCase(),p=c===d,m=e.slice(1);"M"===u?(r+=1,[i,o]=m,i+=p?l.x:0,o+=p?l.y:0,s=i,a=o,n=[p?[u,s,a]:e]):("Z"===u?(i=s,o=a):"H"===u?([,i]=e,i+=p?l.x:0):("V"===u?[,o]=e:([i,o]=e.slice(-2),i+=p?l.x:0),o+=p?l.y:0),n.push(e)),l.x=i,l.y=o,t[r]=n}),t},e6=e=>{let t=new v,{origin:n}=e,[r,i]=n,{translate:o}=e,{rotate:s}=e,{skew:a}=e,{scale:l}=e;return Array.isArray(o)&&o.length>=2&&o.every(e=>!Number.isNaN(+e))&&o.some(e=>0!==e)?t=t.translate(...o):"number"!=typeof o||Number.isNaN(o)||(t=t.translate(o)),(s||a||l)&&(t=t.translate(r,i),Array.isArray(s)&&s.length>=2&&s.every(e=>!Number.isNaN(+e))&&s.some(e=>0!==e)?t=t.rotate(...s):"number"!=typeof s||Number.isNaN(s)||(t=t.rotate(s)),Array.isArray(a)&&2===a.length&&a.every(e=>!Number.isNaN(+e))&&a.some(e=>0!==e)?(t=a[0]?t.skewX(a[0]):t,t=a[1]?t.skewY(a[1]):t):"number"!=typeof a||Number.isNaN(a)||(t=t.skewX(a)),Array.isArray(l)&&l.length>=2&&l.every(e=>!Number.isNaN(+e))&&l.some(e=>1!==e)?t=t.scale(...l):"number"!=typeof l||Number.isNaN(l)||(t=t.scale(l)),t=t.translate(-r,-i)),t},e8=(e,t,n)=>{var r;let i,[o,s,a]=n,[l,c,u]=(r=[t[0],t[1],0,1],i=v.Translate(r[0],r[1],r[2]),[,,,i.m44]=r,[(i=e.multiply(i)).m41,i.m42,i.m43,i.m44]),d=u-a;return[(l-o)*(Math.abs(a)/Math.abs(d)||1)+o,(c-s)*(Math.abs(a)/Math.abs(d)||1)+s]},e7=(e,t)=>{let n=0,r=0,i=0,o=0,s=0,a=0,l="M",c=ev(e),u=t&&Object.keys(t);if(!t||u&&!u.length)return c.slice(0);t.origin||Object.assign(t,{origin:er.origin});let d=t.origin,p=e6(t);return p.isIdentity?c.slice(0):eS(c,(e,t,u,m)=>{[l]=e;let f=l.toUpperCase(),h=f!==l?eb(e,t,u,m):e.slice(0),g="A"===f?["C"].concat(eP(u,m,h[1],h[2],h[3],h[4],h[5],h[6],h[7])):"V"===f?["L",u,h[1]]:"H"===f?["L",h[1],m]:h,y="C"===(l=g[0])&&g.length>7,x=y?g.slice(0,7):g.slice(0);if(y&&(c.splice(t+1,0,["C"].concat(g.slice(7))),g=x),"L"===l)[i,o]=e8(p,[g[1],g[2]],d),n!==i&&r!==o?g=["L",i,o]:r===o?g=["H",i]:n===i&&(g=["V",o]);else for(s=1,a=g.length;s<a;s+=2)[i,o]=e8(p,[+g[s],+g[s+1]],d),g[s]=i,g[s+1]=o;return n=i,r=o,g})},e9=e=>{let t=e.slice(1).map((t,n,r)=>n?r[n-1].slice(-2).concat(t.slice(1)):e[0].slice(1).concat(t.slice(1))).map(e=>e.map((t,n)=>e[e.length-n-2*(1-n%2)])).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(e=>["C"].concat(e.slice(2))))},te=(e,t)=>{let{round:n}=er;return"off"===(n="off"===t||"number"==typeof t&&t>=0?t:"number"==typeof n&&n>=0?n:"off")?e.slice(0):eS(e,e=>e2(e,n))},tt=(e,t=.5)=>{let n=e.slice(0,2),r=e.slice(2,4),i=e.slice(4,6),o=e.slice(6,8),s=b(n,r,t),a=b(r,i,t),l=b(i,o,t),c=b(s,a,t),u=b(a,l,t),d=b(c,u,t);return[["C",s[0],s[1],c[0],c[1],d[0],d[1]],["C",u[0],u[1],l[0],l[1],o[0],o[1]]]},tn=class{constructor(e,t){let n=typeof e>"u";if(n||!e.length)throw TypeError(`${es}: "pathValue" is ${n?"undefined":"empty"}`);this.segments=ev(e);let{round:r,origin:i}=t||{},o;o=Number.isInteger(r)||"off"===r?r:er.round;let s=er.origin;if(Array.isArray(i)&&i.length>=2){let[e,t,n]=i.map(Number);s=[Number.isNaN(e)?0:e,Number.isNaN(t)?0:t,Number.isNaN(n)?0:n]}return this.round=o,this.origin=s,this}get bbox(){return eI(this.segments)}get length(){return eR(this.segments)}getBBox(){return this.bbox}getTotalLength(){return this.length}getPointAtLength(e){return eF(this.segments,e)}toAbsolute(){let{segments:e}=this;return this.segments=ew(e),this}toRelative(){let{segments:e}=this;return this.segments=eM(e),this}toCurve(){let{segments:e}=this;return this.segments=eT(e),this}reverse(e){let{segments:t}=this,n=e5(t),r=n.length>1&&n,i=r?r.map((t,n)=>e?n?e4(t):t.slice(0):e4(t)):t.slice(0),o=[];return o=r?i.flat(1):e?t:e4(t),this.segments=o.slice(0),this}normalize(){let{segments:e}=this;return this.segments=eL(e),this}optimize(){let{segments:e}=this,t="off"===this.round?2:this.round;return this.segments=e3(e,t),this}transform(e){if(!e||"object"!=typeof e||"object"==typeof e&&!["translate","rotate","skew","scale"].some(t=>t in e))return this;let{segments:t,origin:[n,r,i]}=this,o={};for(let[t,n]of Object.entries(e))"skew"===t&&Array.isArray(n)||("rotate"===t||"translate"===t||"origin"===t||"scale"===t)&&Array.isArray(n)?o[t]=n.map(Number):"origin"!==t&&"number"==typeof Number(n)&&(o[t]=Number(n));let{origin:s}=o;if(Array.isArray(s)&&s.length>=2){let[e,t,a]=s.map(Number);o.origin=[Number.isNaN(e)?n:e,Number.isNaN(t)?r:t,a||i]}else o.origin=[n,r,i];return this.segments=e7(t,o),this}flipX(){let{cx:e,cy:t}=this.bbox;return this.transform({rotate:[0,180,0],origin:[e,t,0]}),this}flipY(){let{cx:e,cy:t}=this.bbox;return this.transform({rotate:[180,0,0],origin:[e,t,0]}),this}toString(){return eN(this.segments,this.round)}dispose(){Object.keys(this).forEach(e=>delete this[e])}static get options(){return er}static get CSSMatrix(){return v}static get arcTools(){return I}static get bezierTools(){return H}static get cubicTools(){return Q}static get lineTools(){return P}static get polygonTools(){return ee}static get quadTools(){return K}static get pathToAbsolute(){return ew}static get pathToRelative(){return eM}static get pathToCurve(){return eT}static get pathToString(){return eN}static get distanceSquareRoot(){return S}static get midPoint(){return b}static get rotateVector(){return et}static get roundTo(){return en}static get parsePathString(){return ev}static get finalizeSegment(){return eo}static get invalidPathValue(){return ec}static get isArcCommand(){return eh}static get isDigit(){return el}static get isDigitStart(){return ef}static get isMoveCommand(){return eg}static get isPathCommand(){return em}static get isSpace(){return ed}static get paramsCount(){return ei}static get paramsParser(){return ej}static get pathParser(){return ex}static get scanFlag(){return ea}static get scanParam(){return eu}static get scanSegment(){return ey}static get skipSpaces(){return ep}static get distanceEpsilon(){return 1e-5}static get getClosestPoint(){return eO}static get getDrawDirection(){return eq}static get getPathArea(){return eV}static get getPathBBox(){return eI}static get getPointAtLength(){return eF}static get getPropertiesAtLength(){return eD}static get getPropertiesAtPoint(){return eE}static get getSegmentAtLength(){return ez}static get getSegmentOfPoint(){return eH}static get getTotalLength(){return eR}static get isAbsoluteArray(){return e$}static get isCurveArray(){return eG}static get isNormalizedArray(){return eW}static get isPathArray(){return eU}static get isPointInStroke(){return eQ}static get isRelativeArray(){return eZ}static get isValidPath(){return eX}static get shapeParams(){return eY}static get shapeToPath(){return e0}static get shapeToPathArray(){return eK}static get absolutizeSegment(){return eb}static get arcToCubic(){return eP}static get getSVGMatrix(){return e6}static get iterate(){return eS}static get lineToCubic(){return e_}static get normalizePath(){return eL}static get normalizeSegment(){return eB}static get optimizePath(){return e3}static get projection2d(){return e8}static get quadToCubic(){return eC}static get relativizeSegment(){return eA}static get reverseCurve(){return e9}static get reversePath(){return e4}static get roundPath(){return te}static get roundSegment(){return e2}static get segmentToCubic(){return ek}static get shortenSegment(){return e1}static get splitCubic(){return tt}static get splitPath(){return e5}static get transformPath(){return e7}};function tr(e,t=15){let n=new tn(e),r=[],i=null,o=n.getTotalLength(),s=0;for(;s<o;){let e=n.getPointAtLength(s);i&&e.x===i.x&&e.y===i.y||(r.push({x:e.x,y:e.y}),i=e),s+=t}let a=n.getPointAtLength(o);return i&&(a.x!==i.x||a.y!==i.y)&&r.push({x:a.x,y:a.y}),r}e.s(["parsePathToVertices",()=>tr],92975)},12447,(e,t,n)=>{t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},236,(e,t,n)=>{t.exports=e.g&&e.g.Object===Object&&e.g},39088,(e,t,n)=>{var r=e.r(236),i="object"==typeof self&&self&&self.Object===Object&&self;t.exports=r||i||Function("return this")()},31926,(e,t,n)=>{var r=e.r(39088);t.exports=function(){return r.Date.now()}},48891,(e,t,n)=>{var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},30364,(e,t,n)=>{var r=e.r(48891),i=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},30353,(e,t,n)=>{t.exports=e.r(39088).Symbol},43436,(e,t,n)=>{var r=e.r(30353),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},23243,(e,t,n)=>{var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},77684,(e,t,n)=>{var r=e.r(30353),i=e.r(43436),o=e.r(23243),s=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},77289,(e,t,n)=>{t.exports=function(e){return null!=e&&"object"==typeof e}},61884,(e,t,n)=>{var r=e.r(77684),i=e.r(77289);t.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},73759,(e,t,n)=>{var r=e.r(30364),i=e.r(12447),o=e.r(61884),s=0/0,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?s:+e}},74009,(e,t,n)=>{var r=e.r(12447),i=e.r(31926),o=e.r(73759),s=Math.max,a=Math.min;t.exports=function(e,t,n){var l,c,u,d,p,m,f=0,h=!1,g=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function x(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function v(e){var n=e-m,r=e-f;return void 0===m||n>=t||n<0||g&&r>=u}function b(){var e,n,r,o=i();if(v(o))return S(o);p=setTimeout(b,(e=o-m,n=o-f,r=t-e,g?a(r,u-n):r))}function S(e){return(p=void 0,y&&l)?x(e):(l=c=void 0,d)}function w(){var e,n=i(),r=v(n);if(l=arguments,c=this,m=n,r){if(void 0===p)return f=e=m,p=setTimeout(b,t),h?x(e):d;if(g)return clearTimeout(p),p=setTimeout(b,t),x(m)}return void 0===p&&(p=setTimeout(b,t)),d}return t=o(t)||0,r(n)&&(h=!!n.leading,u=(g="maxWait"in n)?s(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=m=c=p=void 0},w.flush=function(){return void 0===p?d:S(i())},w}},48013,(e,t,n)=>{e.e,t.exports=function(){var t=[function(t,n){var r,i={};t.exports=i,i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(e,t){var n,r;"boolean"==typeof t?(n=2,r=t):(n=1,r=!0);for(var o=n;o<arguments.length;o++){var s=arguments[o];if(s)for(var a in s)r&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},i.extend(e[a],r,s[a])):e[a]=s[a]}return e},i.clone=function(e,t){return i.extend({},t,e)},i.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},i.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}for(var i in e)t.push(e[i]);return t},i.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},i.set=function(e,t,n,r,o){var s=t.split(".").slice(r,o);return i.get(e,t,0,-1)[s[s.length-1]]=n,n},i.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(i.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e},i.choose=function(e){return e[Math.floor(i.random()*e.length)]},i.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},i.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isFunction=function(e){return"function"==typeof e},i.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},i.isString=function(e){return"[object String]"===toString.call(e)},i.clamp=function(e,t,n){return e<t?t:e>n?n:e},i.sign=function(e){return e<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();else if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+r()*(t-e)},r=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280},i.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var e=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[e]||(i.warn(e),i._warnedOnce[e]=!0)},i.deprecated=function(e,t,n){e[t]=i.chain(function(){i.warnOnce("🔅 deprecated 🔅",n)},e[t])},i.nextId=function(){return i._nextId++},i.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return -1},i.map=function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},i.topologicalSort=function(e){var t=[],n=[],r=[];for(var o in e)n[o]||r[o]||i._topologicalSort(o,n,r,e,t);return t},i._topologicalSort=function(e,t,n,r,o){var s=r[e]||[];n[e]=!0;for(var a=0;a<s.length;a+=1){var l=s[a];!n[l]&&(t[l]||i._topologicalSort(l,t,n,r,o))}n[e]=!1,t[e]=!0,o.push(e)},i.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var r=function(){for(var t,n=Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];for(r=0;r<e.length;r+=1){var o=e[r].apply(t,n);void 0!==o&&(t=o)}return t};return r._chained=e,r},i.chainPathBefore=function(e,t,n){return i.set(e,t,i.chain(n,i.get(e,t)))},i.chainPathAfter=function(e,t,n){return i.set(e,t,i.chain(i.get(e,t),n))},i.setDecomp=function(e){i._decomp=e},i.getDecomp=function(){var t=i._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||(t=e.g.decomp)}catch(e){t=null}return t}},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var i=t[r];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var r=Math.cos(t),i=Math.sin(t);n||(n={});var o=e.x*r-e.y*i;return n.y=e.x*i+e.y*r,n.x=o,n},n.rotateAbout=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t);r||(r={});var s=n.x+((e.x-n.x)*i-(e.y-n.y)*o);return r.y=n.y+((e.x-n.x)*o+(e.y-n.y)*i),r.x=s,r},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:-((t=!0===t?-1:1)*e.y),y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(0);r.create=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o={x:i.x,y:i.y,index:r,body:t,isInternal:!1};n.push(o)}return n},r.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,function(e,t,r){n.push({x:parseFloat(t),y:parseFloat(r)})}),r.create(n,t)},r.centre=function(e){for(var t,n,o,s=r.area(e,!0),a={x:0,y:0},l=0;l<e.length;l++)o=(l+1)%e.length,t=i.cross(e[l],e[o]),n=i.mult(i.add(e[l],e[o]),t),a=i.add(a,n);return i.div(a,6*s)},r.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},r.area=function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)n+=(e[r].x-e[i].x)*(e[r].y+e[i].y),r=i;return t?n/2:Math.abs(n)/2},r.inertia=function(e,t){for(var n,r,o=0,s=0,a=0;a<e.length;a++)r=(a+1)%e.length,o+=(n=Math.abs(i.cross(e[r],e[a])))*(i.dot(e[r],e[r])+i.dot(e[r],e[a])+i.dot(e[a],e[a])),s+=n;return t/6*(o/s)},r.translate=function(e,t,n){n=void 0!==n?n:1;var r,i=e.length,o=t.x*n,s=t.y*n;for(r=0;r<i;r++)e[r].x+=o,e[r].y+=s;return e},r.rotate=function(e,t,n){if(0!==t){var r,i,o,s,a=Math.cos(t),l=Math.sin(t),c=n.x,u=n.y,d=e.length;for(s=0;s<d;s++)i=(r=e[s]).x-c,o=r.y-u,r.x=c+(i*a-o*l),r.y=u+(i*l+o*a);return e}},r.contains=function(e,t){for(var n,r=t.x,i=t.y,o=e.length,s=e[o-1],a=0;a<o;a++){if(n=e[a],(r-s.x)*(n.y-s.y)+(i-s.y)*(s.x-n.x)>0)return!1;s=n}return!0},r.scale=function(e,t,n,o){if(1===t&&1===n)return e;o=o||r.centre(e);for(var s,a,l=0;l<e.length;l++)s=e[l],a=i.sub(s,o),e[l].x=o.x+a.x*t,e[l].y=o.y+a.y*n;return e},r.chamfer=function(e,t,n,r,s){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,r=r||2,s=s||14;for(var a=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],d=e[(l+1)%e.length],p=t[l<t.length?l:t.length-1];if(0===p){a.push(u);continue}var m=i.normalise({x:u.y-c.y,y:c.x-u.x}),f=i.normalise({x:d.y-u.y,y:u.x-d.x}),h=Math.sqrt(2*Math.pow(p,2)),g=i.mult(o.clone(m),p),y=i.normalise(i.mult(i.add(m,f),.5)),x=i.sub(u,i.mult(y,h)),v=n;-1===n&&(v=1.75*Math.pow(p,.32)),(v=o.clamp(v,r,s))%2==1&&(v+=1);for(var b=Math.acos(i.dot(m,f))/v,S=0;S<v;S++)a.push(i.add(i.rotate(g,b*S),x))}return a},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort(function(e,n){return i.angle(t,e)-i.angle(t,n)}),e},r.isConvex=function(e){var t,n,r,i,o=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(n=(t+1)%s,r=(t+2)%s,(i=(e[n].x-e[t].x)*(e[r].y-e[n].y)-(e[n].y-e[t].y)*(e[r].x-e[n].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},r.hull=function(e){var t,n,r=[],o=[];for((e=e.slice(0)).sort(function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y}),n=0;n<e.length;n+=1){for(t=e[n];o.length>=2&&0>=i.cross3(o[o.length-2],o[o.length-1],t);)o.pop();o.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];r.length>=2&&0>=i.cross3(r[r.length-2],r[r.length-1],t);)r.pop();r.push(t)}return r.pop(),o.pop(),r.concat(o)}},function(e,t,n){var r,i={};e.exports=i;var o=n(3),s=n(2),a=n(7),l=n(0),c=n(1),u=n(11);i._timeCorrection=!0,i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i._baseDelta=1e3/60,i.create=function(e){var t={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:0xffffffff,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},n=l.extend(t,e);return r(n,e),n},i.nextGroup=function(e){return e?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory},r=function(e,t){t=t||{},i.set(e,{bounds:e.bounds||c.create(e.vertices),positionPrev:e.positionPrev||s.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),o.rotate(e.vertices,e.angle,e.position),u.rotate(e.axes,e.angle),c.update(e.bounds,e.vertices,e.velocity),i.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":l.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),r=e.isStatic?"#555":"#ccc",a=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||r,e.render.lineWidth=e.render.lineWidth||a,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)},i.set=function(e,t,n){var r;for(r in"string"==typeof t&&(r=t,(t={})[r]=n),t)if(Object.prototype.hasOwnProperty.call(t,r))switch(n=t[r],r){case"isStatic":i.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":i.setMass(e,n);break;case"density":i.setDensity(e,n);break;case"inertia":i.setInertia(e,n);break;case"vertices":i.setVertices(e,n);break;case"position":i.setPosition(e,n);break;case"angle":i.setAngle(e,n);break;case"velocity":i.setVelocity(e,n);break;case"angularVelocity":i.setAngularVelocity(e,n);break;case"speed":i.setSpeed(e,n);break;case"angularSpeed":i.setAngularSpeed(e,n);break;case"parts":i.setParts(e,n);break;case"centre":i.setCentre(e,n);break;default:e[r]=n}},i.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];t?(r.isStatic||(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia}),r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null),r.isStatic=t}},i.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=t/6*n,e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},i.setDensity=function(e,t){i.setMass(e,t*e.area),e.density=t},i.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},i.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=o.create(t,e),e.axes=u.fromVertices(e.vertices),e.area=o.area(e.vertices),i.setMass(e,e.density*e.area);var n=o.centre(e.vertices);o.translate(e.vertices,n,-1),i.setInertia(e,i._inertiaScale*o.inertia(e.vertices,e.mass)),o.translate(e.vertices,e.position),c.update(e.bounds,e.vertices,e.velocity)},i.setParts=function(e,t,n){for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var r,s=t[r];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(n=void 0===n||n){var a=[];for(r=0;r<t.length;r++)a=a.concat(t[r].vertices);o.clockwiseSort(a);var l=o.hull(a),c=o.centre(l);i.setVertices(e,l),o.translate(e.vertices,c)}var u=i._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,i.setMass(e,u.mass),i.setInertia(e,u.inertia),i.setPosition(e,u.centre)}},i.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},i.setPosition=function(e,t,n){var r=s.sub(t,e.position);n?(e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.velocity.x=r.x,e.velocity.y=r.y,e.speed=s.magnitude(r)):(e.positionPrev.x+=r.x,e.positionPrev.y+=r.y);for(var i=0;i<e.parts.length;i++){var a=e.parts[i];a.position.x+=r.x,a.position.y+=r.y,o.translate(a.vertices,r),c.update(a.bounds,a.vertices,e.velocity)}},i.setAngle=function(e,t,n){var r=t-e.angle;n?(e.anglePrev=e.angle,e.angularVelocity=r,e.angularSpeed=Math.abs(r)):e.anglePrev+=r;for(var i=0;i<e.parts.length;i++){var a=e.parts[i];a.angle+=r,o.rotate(a.vertices,r,e.position),u.rotate(a.axes,r),c.update(a.bounds,a.vertices,e.velocity),i>0&&s.rotateAbout(a.position,r,e.position,a.position)}},i.setVelocity=function(e,t){var n=e.deltaTime/i._baseDelta;e.positionPrev.x=e.position.x-t.x*n,e.positionPrev.y=e.position.y-t.y*n,e.velocity.x=(e.position.x-e.positionPrev.x)/n,e.velocity.y=(e.position.y-e.positionPrev.y)/n,e.speed=s.magnitude(e.velocity)},i.getVelocity=function(e){var t=i._baseDelta/e.deltaTime;return{x:(e.position.x-e.positionPrev.x)*t,y:(e.position.y-e.positionPrev.y)*t}},i.getSpeed=function(e){return s.magnitude(i.getVelocity(e))},i.setSpeed=function(e,t){i.setVelocity(e,s.mult(s.normalise(i.getVelocity(e)),t))},i.setAngularVelocity=function(e,t){var n=e.deltaTime/i._baseDelta;e.anglePrev=e.angle-t*n,e.angularVelocity=(e.angle-e.anglePrev)/n,e.angularSpeed=Math.abs(e.angularVelocity)},i.getAngularVelocity=function(e){return(e.angle-e.anglePrev)*i._baseDelta/e.deltaTime},i.getAngularSpeed=function(e){return Math.abs(i.getAngularVelocity(e))},i.setAngularSpeed=function(e,t){i.setAngularVelocity(e,l.sign(i.getAngularVelocity(e))*t)},i.translate=function(e,t,n){i.setPosition(e,s.add(e.position,t),n)},i.rotate=function(e,t,n,r){if(n){var o=Math.cos(t),s=Math.sin(t),a=e.position.x-n.x,l=e.position.y-n.y;i.setPosition(e,{x:n.x+(a*o-l*s),y:n.y+(a*s+l*o)},r),i.setAngle(e,e.angle+t,r)}else i.setAngle(e,e.angle+t,r)},i.scale=function(e,t,n,r){var s=0,a=0;r=r||e.position;for(var l=0;l<e.parts.length;l++){var d=e.parts[l];o.scale(d.vertices,t,n,r),d.axes=u.fromVertices(d.vertices),d.area=o.area(d.vertices),i.setMass(d,e.density*d.area),o.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),i.setInertia(d,i._inertiaScale*o.inertia(d.vertices,d.mass)),o.translate(d.vertices,{x:d.position.x,y:d.position.y}),l>0&&(s+=d.area,a+=d.inertia),d.position.x=r.x+(d.position.x-r.x)*t,d.position.y=r.y+(d.position.y-r.y)*n,c.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(i.setMass(e,e.density*s),i.setInertia(e,a))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},i.update=function(e,t){var n=(t=(void 0!==t?t:1e3/60)*e.timeScale)*t,r=i._timeCorrection?t/(e.deltaTime||t):1,a=1-e.frictionAir*(t/l._baseDelta),d=(e.position.x-e.positionPrev.x)*r,p=(e.position.y-e.positionPrev.y)*r;e.velocity.x=d*a+e.force.x/e.mass*n,e.velocity.y=p*a+e.force.y/e.mass*n,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.deltaTime=t,e.angularVelocity=(e.angle-e.anglePrev)*a*r+e.torque/e.inertia*n,e.anglePrev=e.angle,e.angle+=e.angularVelocity;for(var m=0;m<e.parts.length;m++){var f=e.parts[m];o.translate(f.vertices,e.velocity),m>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(o.rotate(f.vertices,e.angularVelocity,e.position),u.rotate(f.axes,e.angularVelocity),m>0&&s.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),c.update(f.bounds,f.vertices,e.velocity)}},i.updateVelocities=function(e){var t=i._baseDelta/e.deltaTime,n=e.velocity;n.x=(e.position.x-e.positionPrev.x)*t,n.y=(e.position.y-e.positionPrev.y)*t,e.speed=Math.sqrt(n.x*n.x+n.y*n.y),e.angularVelocity=(e.angle-e.anglePrev)*t,e.angularSpeed=Math.abs(e.angularVelocity)},i.applyForce=function(e,t,n){var r={x:t.x-e.position.x,y:t.y-e.position.y};e.force.x+=n.x,e.force.y+=n.y,e.torque+=r.x*n.y-r.y*n.x},i._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=+(1!==e.parts.length);n<e.parts.length;n++){var r=e.parts[n],i=r.mass!==1/0?r.mass:1;t.mass+=i,t.area+=r.area,t.inertia+=r.inertia,t.centre=s.add(t.centre,s.mult(r.position,i))}return t.centre=s.div(t.centre,t.mass),t}},function(e,t,n){var r={};e.exports=r;var i=n(0);r.on=function(e,t,n){for(var r,i=t.split(" "),o=0;o<i.length;o++)r=i[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(n);return n},r.off=function(e,t,n){if(!t){e.events={};return}"function"==typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var r=t.split(" "),o=0;o<r.length;o++){var s=e.events[r[o]],a=[];if(n&&s)for(var l=0;l<s.length;l++)s[l]!==n&&a.push(s[l]);e.events[r[o]]=a}},r.trigger=function(e,t,n){var r,o,s,a,l=e.events;if(l&&i.keys(l).length>0){n||(n={}),r=t.split(" ");for(var c=0;c<r.length;c++)if(s=l[o=r[c]]){(a=i.clone(n,!1)).name=o,a.source=e;for(var u=0;u<s.length;u++)s[u].apply(e,[a])}}}},function(e,t,n){var r={};e.exports=r;var i=n(5),o=n(0),s=n(1),a=n(4);r.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},r.setModified=function(e,t,n,i){if(e.isModified=t,t&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),n&&e.parent&&r.setModified(e.parent,t,n,i),i)for(var o=0;o<e.composites.length;o++){var s=e.composites[o];r.setModified(s,t,n,i)}},r.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,a);break;case"constraint":r.addConstraint(e,a);break;case"composite":r.addComposite(e,a);break;case"mouseConstraint":r.addConstraint(e,a.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,n){var o=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var s=0;s<o.length;s++){var a=o[s];switch(a.type){case"body":r.removeBody(e,a,n);break;case"constraint":r.removeConstraint(e,a,n);break;case"composite":r.removeComposite(e,a,n);break;case"mouseConstraint":r.removeConstraint(e,a.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var i=o.indexOf(e.composites,t);if(-1!==i){var s=r.allBodies(t);r.removeCompositeAt(e,i);for(var a=0;a<s.length;a++)s[a].sleepCounter=0}if(n)for(var a=0;a<e.composites.length;a++)r.removeComposite(e.composites[a],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,n){var i=o.indexOf(e.bodies,t);if(-1!==i&&(r.removeBodyAt(e,i),t.sleepCounter=0),n)for(var s=0;s<e.composites.length;s++)r.removeBody(e.composites[s],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var i=o.indexOf(e.constraints,t);if(-1!==i&&r.removeConstraintAt(e,i),n)for(var s=0;s<e.composites.length;s++)r.removeConstraint(e.composites[s],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)r.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(r.allBodies(e.composites[n]));return e.cache&&(e.cache.allBodies=t),t},r.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(r.allConstraints(e.composites[n]));return e.cache&&(e.cache.allConstraints=t),t},r.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(r.allComposites(e.composites[n]));return e.cache&&(e.cache.allComposites=t),t},r.get=function(e,t,n){var i,o;switch(n){case"body":i=r.allBodies(e);break;case"constraint":i=r.allConstraints(e);break;case"composite":i=r.allComposites(e).concat(e)}return i?0===(o=i.filter(function(e){return e.id.toString()===t.toString()})).length?null:o[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),n=0;n<t.length;n++)t[n].id=o.nextId();return e},r.translate=function(e,t,n){for(var i=n?r.allBodies(e):e.bodies,o=0;o<i.length;o++)a.translate(i[o],t);return e},r.rotate=function(e,t,n,i){for(var o=Math.cos(t),s=Math.sin(t),l=i?r.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],d=u.position.x-n.x,p=u.position.y-n.y;a.setPosition(u,{x:n.x+(d*o-p*s),y:n.y+(d*s+p*o)}),a.rotate(u,t)}return e},r.scale=function(e,t,n,i,o){for(var s=o?r.allBodies(e):e.bodies,l=0;l<s.length;l++){var c=s[l],u=c.position.x-i.x,d=c.position.y-i.y;a.setPosition(c,{x:i.x+u*t,y:i.y+d*n}),a.scale(c,t,n)}return e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o.bounds.min,o.bounds.max)}return s.create(n)}},function(e,t,n){var r={};e.exports=r;var i=n(4),o=n(5),s=n(0);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t/s._baseDelta,o=r._motionSleepThreshold,a=0;a<e.length;a++){var l=e[a],c=i.getSpeed(l),u=i.getAngularSpeed(l),d=c*c+u*u;if(0!==l.force.x||0!==l.force.y){r.set(l,!1);continue}var p=Math.min(l.motion,d),m=Math.max(l.motion,d);l.motion=r._minBias*p+(1-r._minBias)*m,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&r.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},r.afterCollisions=function(e){for(var t=r._motionSleepThreshold,n=0;n<e.length;n++){var i=e[n];if(i.isActive){var o=i.collision,s=o.bodyA.parent,a=o.bodyB.parent;if((!s.isSleeping||!a.isSleeping)&&!s.isStatic&&!a.isStatic&&(s.isSleeping||a.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:a,c=l===s?a:s;!l.isStatic&&c.motion>t&&r.set(l,!1)}}}},r.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||o.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&o.trigger(e,"sleepEnd"))}},function(e,t,n){var r,i,o,s={};e.exports=s;var a=n(3),l=n(9);r=[],i={overlap:0,axis:null},o={overlap:0,axis:null},s.create=function(e,t){return{pair:null,collided:!1,bodyA:e,bodyB:t,parentA:e.parent,parentB:t.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},s.collides=function(e,t,n){if(s._overlapAxes(i,e.vertices,t.vertices,e.axes),i.overlap<=0||(s._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0))return null;var r,c,u=n&&n.table[l.id(e,t)];u?c=u.collision:((c=s.create(e,t)).collided=!0,c.bodyA=e.id<t.id?e:t,c.bodyB=e.id<t.id?t:e,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent),e=c.bodyA,t=c.bodyB,r=i.overlap<o.overlap?i:o;var d=c.normal,p=c.tangent,m=c.penetration,f=c.supports,h=r.overlap,g=r.axis,y=g.x,x=g.y;y*(t.position.x-e.position.x)+x*(t.position.y-e.position.y)>=0&&(y=-y,x=-x),d.x=y,d.y=x,p.x=-x,p.y=y,m.x=y*h,m.y=x*h,c.depth=h;var v=s._findSupports(e,t,d,1),b=0;if(a.contains(e.vertices,v[0])&&(f[b++]=v[0]),a.contains(e.vertices,v[1])&&(f[b++]=v[1]),b<2){var S=s._findSupports(t,e,d,-1);a.contains(t.vertices,S[0])&&(f[b++]=S[0]),b<2&&a.contains(t.vertices,S[1])&&(f[b++]=S[1])}return 0===b&&(f[b++]=v[0]),c.supportCount=b,c},s._overlapAxes=function(e,t,n,r){var i,o,s,a,l,c,u=t.length,d=n.length,p=t[0].x,m=t[0].y,f=n[0].x,h=n[0].y,g=r.length,y=Number.MAX_VALUE,x=0;for(l=0;l<g;l++){var v=r[l],b=v.x,S=v.y,w=p*b+m*S,A=f*b+h*S,M=w,P=A;for(c=1;c<u;c+=1)(a=t[c].x*b+t[c].y*S)>M?M=a:a<w&&(w=a);for(c=1;c<d;c+=1)(a=n[c].x*b+n[c].y*S)>P?P=a:a<A&&(A=a);if((i=(o=M-A)<(s=P-w)?o:s)<y&&(y=i,x=l,i<=0))break}e.axis=r[x],e.overlap=y},s._findSupports=function(e,t,n,i){var o,s,a,l=t.vertices,c=l.length,u=e.position.x,d=e.position.y,p=n.x*i,m=n.y*i,f=l[0],h=f,g=p*(u-h.x)+m*(d-h.y);for(a=1;a<c;a+=1)(s=p*(u-(h=l[a]).x)+m*(d-h.y))<g&&(g=s,f=h);return(g=p*(u-(o=l[(c+f.index-1)%c]).x)+m*(d-o.y),p*(u-(h=l[(f.index+1)%c]).x)+m*(d-h.y)<g)?(r[0]=f,r[1]=h):(r[0]=f,r[1]=o),r}},function(e,t,n){var r={};e.exports=r;var i=n(16);r.create=function(e,t){var n=e.bodyA,o=e.bodyB,s={id:r.id(n,o),bodyA:n,bodyB:o,collision:e,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||o.isSensor,timeCreated:t,timeUpdated:t,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(s,e,t),s},r.update=function(e,t,n){var r=t.supports,i=t.supportCount,o=e.contacts,s=t.parentA,a=t.parentB;e.isActive=!0,e.timeUpdated=n,e.collision=t,e.separation=t.depth,e.inverseMass=s.inverseMass+a.inverseMass,e.friction=s.friction<a.friction?s.friction:a.friction,e.frictionStatic=s.frictionStatic>a.frictionStatic?s.frictionStatic:a.frictionStatic,e.restitution=s.restitution>a.restitution?s.restitution:a.restitution,e.slop=s.slop>a.slop?s.slop:a.slop,e.contactCount=i,t.pair=e;var l=r[0],c=o[0],u=r[1],d=o[1];(d.vertex===l||c.vertex===u)&&(o[1]=c,o[0]=c=d,d=o[1]),c.vertex=l,d.vertex=u},r.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.contactCount=0)},r.id=function(e,t){return e.id<t.id?e.id.toString(36)+":"+t.id.toString(36):t.id.toString(36)+":"+e.id.toString(36)}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(2),s=n(7),a=n(1),l=n(11),c=n(0);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var t=e.bodyA?o.add(e.bodyA.position,e.pointA):e.pointA,n=e.bodyB?o.add(e.bodyB.position,e.pointB):e.pointB,r=o.magnitude(o.sub(t,n));e.length=void 0!==e.length?e.length:r,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var i={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(i.type="pin",i.anchors=!1):e.stiffness<.9&&(i.type="spring"),e.render=c.extend(i,e.render),e},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(e,t){for(var n=c.clamp(t/c._baseDelta,0,1),i=0;i<e.length;i+=1){var o=e[i],s=!o.bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(s||a)&&r.solve(e[i],n)}for(i=0;i<e.length;i+=1)s=!(o=e[i]).bodyA||o.bodyA&&o.bodyA.isStatic,a=!o.bodyB||o.bodyB&&o.bodyB.isStatic,s||a||r.solve(e[i],n)},r.solve=function(e,t){var n=e.bodyA,i=e.bodyB,s=e.pointA,a=e.pointB;if(n||i){n&&!n.isStatic&&(o.rotate(s,n.angle-e.angleA,s),e.angleA=n.angle),i&&!i.isStatic&&(o.rotate(a,i.angle-e.angleB,a),e.angleB=i.angle);var l=s,c=a;if(n&&(l=o.add(n.position,s)),i&&(c=o.add(i.position,a)),l&&c){var u=o.sub(l,c),d=o.magnitude(u);d<r._minLength&&(d=r._minLength);var p,m,f,h,g,y=(d-e.length)/d,x=e.stiffness>=1||0===e.length?e.stiffness*t:e.stiffness*t*t,v=e.damping*t,b=o.mult(u,y*x),S=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=S+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(v>0){var A=o.create();f=o.div(u,d),g=o.sub(i&&o.sub(i.position,i.positionPrev)||A,n&&o.sub(n.position,n.positionPrev)||A),h=o.dot(f,g)}n&&!n.isStatic&&(m=n.inverseMass/S,n.constraintImpulse.x-=b.x*m,n.constraintImpulse.y-=b.y*m,n.position.x-=b.x*m,n.position.y-=b.y*m,v>0&&(n.positionPrev.x-=v*f.x*h*m,n.positionPrev.y-=v*f.y*h*m),p=o.cross(s,b)/w*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),i&&!i.isStatic&&(m=i.inverseMass/S,i.constraintImpulse.x+=b.x*m,i.constraintImpulse.y+=b.y*m,i.position.x+=b.x*m,i.position.y+=b.y*m,v>0&&(i.positionPrev.x+=v*f.x*h*m,i.positionPrev.y+=v*f.y*h*m),p=o.cross(a,b)/w*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=p,i.angle+=p)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!n.isStatic&&(0!==c.x||0!==c.y||0!==c.angle)){s.set(n,!1);for(var u=0;u<n.parts.length;u++){var d=n.parts[u];i.translate(d.vertices,c),u>0&&(d.position.x+=c.x,d.position.y+=c.y),0!==c.angle&&(i.rotate(d.vertices,c.angle,n.position),l.rotate(d.axes,c.angle),u>0&&o.rotateAbout(d.position,c.angle,n.position,d.position)),a.update(d.bounds,d.vertices,n.velocity)}c.angle*=r._warming,c.x*=r._warming,c.y*=r._warming}}},r.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),y:(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0)}},r.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),y:(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0)}},r.currentLength=function(e){var t=(e.bodyA?e.bodyA.position.x:0)+(e.pointA?e.pointA.x:0),n=(e.bodyA?e.bodyA.position.y:0)+(e.pointA?e.pointA.y:0),r=(e.bodyB?e.bodyB.position.x:0)+(e.pointB?e.pointB.x:0),i=(e.bodyB?e.bodyB.position.y:0)+(e.pointB?e.pointB.y:0),o=t-r,s=n-i;return Math.sqrt(o*o+s*s)}},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(0);r.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var r=(n+1)%e.length,s=i.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),a=0===s.y?1/0:s.x/s.y;t[a=a.toFixed(3).toString()]=s}return o.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var o,s=e[i];o=s.x*n-s.y*r,s.y=s.x*r+s.y*n,s.x=o}}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(0),s=n(4),a=n(1),l=n(2);r.rectangle=function(e,t,n,r,a){a=a||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(a.chamfer){var c=a.chamfer;l.vertices=i.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return s.create(o.extend({},l,a))},r.trapezoid=function(e,t,n,r,a,l){l=l||{},a>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1.");var c,u=(1-2*(a*=.5))*n,d=n*a,p=d+u,m=p+d;c=a<.5?"L 0 0 L "+d+" "+-r+" L "+p+" "+-r+" L "+m+" 0":"L 0 0 L "+p+" "+-r+" L "+m+" 0";var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(c)};if(l.chamfer){var h=l.chamfer;f.vertices=i.chamfer(f.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete l.chamfer}return s.create(o.extend({},f,l))},r.circle=function(e,t,n,i,s){i=i||{};var a=Math.ceil(Math.max(10,Math.min(s=s||25,n)));return a%2==1&&(a+=1),r.polygon(e,t,a,n,o.extend({},{label:"Circle Body",circleRadius:n},i))},r.polygon=function(e,t,n,a,l){if(l=l||{},n<3)return r.circle(e,t,a,l);for(var c=2*Math.PI/n,u="",d=.5*c,p=0;p<n;p+=1){var m=d+p*c,f=Math.cos(m)*a,h=Math.sin(m)*a;u+="L "+f.toFixed(3)+" "+h.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(l.chamfer){var y=l.chamfer;g.vertices=i.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return s.create(o.extend({},g,l))},r.fromVertices=function(e,t,n,r,c,u,d,p){var m,f,h,g,y,x,v,b,S,w,A=o.getDecomp();for(m=!!(A&&A.quickDecomp),r=r||{},h=[],c=void 0!==c&&c,u=void 0!==u?u:.01,d=void 0!==d?d:10,p=void 0!==p?p:.01,o.isArray(n[0])||(n=[n]),S=0;S<n.length;S+=1)if(y=n[S],(g=i.isConvex(y))||m||o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!m)y=g?i.clockwiseSort(y):i.hull(y),h.push({position:{x:e,y:t},vertices:y});else{var M=y.map(function(e){return[e.x,e.y]});A.makeCCW(M),!1!==u&&A.removeCollinearPoints(M,u),!1!==p&&A.removeDuplicatePoints&&A.removeDuplicatePoints(M,p);var P=A.quickDecomp(M);for(x=0;x<P.length;x++){var C=P[x].map(function(e){return{x:e[0],y:e[1]}});d>0&&i.area(C)<d||h.push({position:i.centre(C),vertices:C})}}for(x=0;x<h.length;x++)h[x]=s.create(o.extend(h[x],r));if(c)for(x=0;x<h.length;x++){var _=h[x];for(v=x+1;v<h.length;v++){var k=h[v];if(a.overlaps(_.bounds,k.bounds)){var B=_.vertices,j=k.vertices;for(b=0;b<_.vertices.length;b++)for(w=0;w<k.vertices.length;w++){var T=l.magnitudeSquared(l.sub(B[(b+1)%B.length],j[w])),N=l.magnitudeSquared(l.sub(B[b],j[(w+1)%j.length]));T<5&&N<5&&(B[b].isInternal=!0,j[w].isInternal=!0)}}}}return h.length>1?(f=s.create(o.extend({parts:h.slice(0)},r)),s.setPosition(f,{x:e,y:t}),f):h[0]}},function(e,t,n){var r={};e.exports=r;var i=n(0),o=n(8);r.create=function(e){return i.extend({bodies:[],collisions:[],pairs:null},e)},r.setBodies=function(e,t){e.bodies=t.slice(0)},r.clear=function(e){e.bodies=[],e.collisions=[]},r.collisions=function(e){var t,n,i=e.pairs,s=e.bodies,a=s.length,l=r.canCollide,c=o.collides,u=e.collisions,d=0;for(s.sort(r._compareBoundsX),t=0;t<a;t++){var p=s[t],m=p.bounds,f=p.bounds.max.x,h=p.bounds.max.y,g=p.bounds.min.y,y=p.isStatic||p.isSleeping,x=p.parts.length,v=1===x;for(n=t+1;n<a;n++){var b=s[n],S=b.bounds;if(S.min.x>f)break;if(!(h<S.min.y)&&!(g>S.max.y)&&(!y||!b.isStatic&&!b.isSleeping)&&l(p.collisionFilter,b.collisionFilter)){var w=b.parts.length;if(v&&1===w){var A=c(p,b,i);A&&(u[d++]=A)}else for(var M=+(x>1),P=+(w>1),C=M;C<x;C++)for(var _=p.parts[C],m=_.bounds,k=P;k<w;k++){var B=b.parts[k],S=B.bounds;if(!(m.min.x>S.max.x)&&!(m.max.x<S.min.x)&&!(m.max.y<S.min.y)&&!(m.min.y>S.max.y)){var A=c(_,B,i);A&&(u[d++]=A)}}}}}return u.length!==d&&(u.length=d),u},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:(e.mask&t.category)!=0&&(t.mask&e.category)!=0},r._compareBoundsX=function(e,t){return e.bounds.min.x-t.bounds.min.x}},function(e,t,n){var r={};e.exports=r;var i=n(0);r.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault(),t.sourceEvents.mousewheel=e},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove,{passive:!0}),t.addEventListener("mousedown",e.mousedown,{passive:!0}),t.addEventListener("mouseup",e.mouseup,{passive:!0}),t.addEventListener("wheel",e.mousewheel,{passive:!1}),t.addEventListener("touchmove",e.mousemove,{passive:!1}),t.addEventListener("touchstart",e.mousedown,{passive:!1}),t.addEventListener("touchend",e.mouseup,{passive:!1})},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,n){var r,i,o=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=e.changedTouches;return c?(r=c[0].pageX-o.left-a,i=c[0].pageY-o.top-l):(r=e.pageX-o.left-a,i=e.pageY-o.top-l),{x:r/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}},function(e,t,n){var r={};e.exports=r;var i=n(0);r._registry={},r.register=function(e){if(r.isPlugin(e)||i.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,o=r.versionParse(t.version).number;n>o?(i.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<o?i.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&i.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0===e.uses.length)return void i.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.");for(var n=r.dependencies(e),o=i.topologicalSort(n),s=[],a=0;a<o.length;a+=1)if(o[a]!==e.name){var l=r.resolve(o[a]);if(!l){s.push("❌ "+o[a]);continue}r.isUsed(e,l.name)||(r.isFor(l,e)||(i.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(e)+"."),l._warned=!0),l.install?l.install(e):(i.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(s.push("🔶 "+r.toString(l)),delete l._warned):s.push("✅ "+r.toString(l)),e.used.push(l.name))}s.length>0&&i.info(s.join("  "))},r.dependencies=function(e,t){var n=r.dependencyParse(e),o=n.name;if(!(o in(t=t||{}))){e=r.resolve(e)||e,t[o]=i.map(e.uses||[],function(t){r.isPlugin(t)&&r.register(t);var o=r.dependencyParse(t),s=r.resolve(t);return s&&!r.versionSatisfies(s.version,o.range)?(i.warn("Plugin.dependencies:",r.toString(s),"does not satisfy",r.toString(o),"used by",r.toString(n)+"."),s._warned=!0,e._warned=!0):s||(i.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),o.name});for(var s=0;s<t[o].length;s+=1)r.dependencies(t[o][s],t);return t}},r.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;t.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),r=Number(n[4]),o=Number(n[5]),s=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:r,minor:o,patch:s,parts:[r,o,s],prerelease:n[7],number:1e8*r+1e4*o+s}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),i=r.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return i.number>n.number;if(">="===n.operator)return i.number>=n.number;if("~"===n.operator)return i.major===n.major&&i.minor===n.minor&&i.patch>=n.patch;if("^"===n.operator)return n.major>0?i.major===n.major&&i.number>=n.number:n.minor>0?i.minor===n.minor&&i.patch>=n.patch:i.patch===n.patch}return e===t||"*"===e}},function(e,t){var n={};e.exports=n,n.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(e,t,n){var r={};e.exports=r;var i=n(7),o=n(18),s=n(13),a=n(19),l=n(5),c=n(6),u=n(10),d=n(0),p=n(4);r._deltaMax=1e3/60,r.create=function(e){e=e||{};var t=d.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},e);return t.world=e.world||c.create({label:"World"}),t.pairs=e.pairs||a.create(),t.detector=e.detector||s.create(),t.detector.pairs=t.pairs,t.grid={buckets:[]},t.world.gravity=t.gravity,t.broadphase=t.grid,t.metrics={},t},r.update=function(e,t){var n,p=d.now(),m=e.world,f=e.detector,h=e.pairs,g=e.timing,y=g.timestamp;t>r._deltaMax&&d.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",r._deltaMax.toFixed(3),"ms."),t=(void 0!==t?t:d._baseDelta)*g.timeScale,g.timestamp+=t,g.lastDelta=t;var x={timestamp:g.timestamp,delta:t};l.trigger(e,"beforeUpdate",x);var v=c.allBodies(m),b=c.allConstraints(m);for(m.isModified&&(s.setBodies(f,v),c.setModified(m,!1,!1,!0)),e.enableSleeping&&i.update(v,t),r._bodiesApplyGravity(v,e.gravity),t>0&&r._bodiesUpdate(v,t),l.trigger(e,"beforeSolve",x),u.preSolveAll(v),n=0;n<e.constraintIterations;n++)u.solveAll(b,t);u.postSolveAll(v);var S=s.collisions(f);a.update(h,S,y),e.enableSleeping&&i.afterCollisions(h.list),h.collisionStart.length>0&&l.trigger(e,"collisionStart",{pairs:h.collisionStart,timestamp:g.timestamp,delta:t});var w=d.clamp(20/e.positionIterations,0,1);for(o.preSolvePosition(h.list),n=0;n<e.positionIterations;n++)o.solvePosition(h.list,t,w);for(o.postSolvePosition(v),u.preSolveAll(v),n=0;n<e.constraintIterations;n++)u.solveAll(b,t);for(u.postSolveAll(v),o.preSolveVelocity(h.list),n=0;n<e.velocityIterations;n++)o.solveVelocity(h.list,t);return r._bodiesUpdateVelocities(v),h.collisionActive.length>0&&l.trigger(e,"collisionActive",{pairs:h.collisionActive,timestamp:g.timestamp,delta:t}),h.collisionEnd.length>0&&l.trigger(e,"collisionEnd",{pairs:h.collisionEnd,timestamp:g.timestamp,delta:t}),r._bodiesClearForces(v),l.trigger(e,"afterUpdate",x),e.timing.lastElapsed=d.now()-p,e},r.merge=function(e,t){if(d.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=c.allBodies(e.world),o=0;o<n.length;o++){var s=n[o];i.set(s,!1),s.id=d.nextId()}}},r.clear=function(e){a.clear(e.pairs),s.clear(e.detector)},r._bodiesClearForces=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];r.force.x=0,r.force.y=0,r.torque=0}},r._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001,r=e.length;if((0!==t.x||0!==t.y)&&0!==n)for(var i=0;i<r;i++){var o=e[i];o.isStatic||o.isSleeping||(o.force.y+=o.mass*t.y*n,o.force.x+=o.mass*t.x*n)}},r._bodiesUpdate=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i.isStatic||i.isSleeping||p.update(i,t)}},r._bodiesUpdateVelocities=function(e){for(var t=e.length,n=0;n<t;n++)p.updateVelocities(e[n])}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(0),s=n(1);r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(e){var t,n,r,i=e.length;for(t=0;t<i;t++)(n=e[t]).isActive&&(r=n.contactCount,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t,n){var i,s,a,l,c,u,d,p,m=r._positionDampen*(n||1),f=o.clamp(t/o._baseDelta,0,1),h=e.length;for(i=0;i<h;i++)(s=e[i]).isActive&&!s.isSensor&&(l=(a=s.collision).parentA,c=a.parentB,u=a.normal,s.separation=a.depth+u.x*(c.positionImpulse.x-l.positionImpulse.x)+u.y*(c.positionImpulse.y-l.positionImpulse.y));for(i=0;i<h;i++)(s=e[i]).isActive&&!s.isSensor&&(l=(a=s.collision).parentA,c=a.parentB,u=a.normal,p=s.separation-s.slop*f,(l.isStatic||c.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(d=m/l.totalContacts,l.positionImpulse.x+=u.x*p*d,l.positionImpulse.y+=u.y*p*d),c.isStatic||c.isSleeping||(d=m/c.totalContacts,c.positionImpulse.x-=u.x*p*d,c.positionImpulse.y-=u.y*p*d))},r.postSolvePosition=function(e){for(var t=r._positionWarming,n=e.length,o=i.translate,a=s.update,l=0;l<n;l++){var c=e[l],u=c.positionImpulse,d=u.x,p=u.y,m=c.velocity;if(c.totalContacts=0,0!==d||0!==p){for(var f=0;f<c.parts.length;f++){var h=c.parts[f];o(h.vertices,u),a(h.bounds,h.vertices,m),h.position.x+=d,h.position.y+=p}c.positionPrev.x+=d,c.positionPrev.y+=p,d*m.x+p*m.y<0?(u.x=0,u.y=0):(u.x*=t,u.y*=t)}}},r.preSolveVelocity=function(e){var t,n,r=e.length;for(t=0;t<r;t++){var i=e[t];if(i.isActive&&!i.isSensor){var o=i.contacts,s=i.contactCount,a=i.collision,l=a.parentA,c=a.parentB,u=a.normal,d=a.tangent;for(n=0;n<s;n++){var p=o[n],m=p.vertex,f=p.normalImpulse,h=p.tangentImpulse;if(0!==f||0!==h){var g=u.x*f+d.x*h,y=u.y*f+d.y*h;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=y*l.inverseMass,l.anglePrev+=l.inverseInertia*((m.x-l.position.x)*y-(m.y-l.position.y)*g)),c.isStatic||c.isSleeping||(c.positionPrev.x-=g*c.inverseMass,c.positionPrev.y-=y*c.inverseMass,c.anglePrev-=c.inverseInertia*((m.x-c.position.x)*y-(m.y-c.position.y)*g))}}}}},r.solveVelocity=function(e,t){var n,i,s,a,l=t/o._baseDelta,c=l*l*l,u=-r._restingThresh*l,d=r._restingThreshTangent,p=r._frictionNormalMultiplier*l,m=r._frictionMaxStatic,f=e.length;for(s=0;s<f;s++){var h=e[s];if(h.isActive&&!h.isSensor){var g=h.collision,y=g.parentA,x=g.parentB,v=g.normal.x,b=g.normal.y,S=g.tangent.x,w=g.tangent.y,A=h.inverseMass,M=h.friction*h.frictionStatic*p,P=h.contacts,C=h.contactCount,_=1/C,k=y.position.x-y.positionPrev.x,B=y.position.y-y.positionPrev.y,j=y.angle-y.anglePrev,T=x.position.x-x.positionPrev.x,N=x.position.y-x.positionPrev.y,I=x.angle-x.anglePrev;for(a=0;a<C;a++){var R=P[a],L=R.vertex,F=L.x-y.position.x,D=L.y-y.position.y,E=L.x-x.position.x,O=L.y-x.position.y,V=k-D*j-(T-O*I),q=B+F*j-(N+E*I),z=v*V+b*q,H=S*V+w*q,U=h.separation+z,$=Math.min(U,1),W=($=U<0?0:$)*M;H<-W||H>W?(i=H>0?H:-H,(n=h.friction*(H>0?1:-1)*c)<-i?n=-i:n>i&&(n=i)):(n=H,i=m);var G=F*b-D*v,Q=E*b-O*v,Z=_/(A+y.inverseInertia*G*G+x.inverseInertia*Q*Q),X=(1+h.restitution)*z*Z;if(n*=Z,z<u)R.normalImpulse=0;else{var Y=R.normalImpulse;R.normalImpulse+=X,R.normalImpulse>0&&(R.normalImpulse=0),X=R.normalImpulse-Y}if(H<-d||H>d)R.tangentImpulse=0;else{var J=R.tangentImpulse;R.tangentImpulse+=n,R.tangentImpulse<-i&&(R.tangentImpulse=-i),R.tangentImpulse>i&&(R.tangentImpulse=i),n=R.tangentImpulse-J}var K=v*X+S*n,ee=b*X+w*n;y.isStatic||y.isSleeping||(y.positionPrev.x+=K*y.inverseMass,y.positionPrev.y+=ee*y.inverseMass,y.anglePrev+=(F*ee-D*K)*y.inverseInertia),x.isStatic||x.isSleeping||(x.positionPrev.x-=K*x.inverseMass,x.positionPrev.y-=ee*x.inverseMass,x.anglePrev-=(E*ee-O*K)*x.inverseInertia)}}}}},function(e,t,n){var r={};e.exports=r;var i=n(9),o=n(0);r.create=function(e){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,o,s,a=i.update,l=i.create,c=i.setActive,u=e.table,d=e.list,p=d.length,m=p,f=e.collisionStart,h=e.collisionEnd,g=e.collisionActive,y=t.length,x=0,v=0,b=0;for(s=0;s<y;s++)(o=(r=t[s]).pair)?(o.isActive&&(g[b++]=o),a(o,r,n)):(u[(o=l(r,n)).id]=o,f[x++]=o,d[m++]=o);for(s=0,m=0,p=d.length;s<p;s++)(o=d[s]).timeUpdated>=n?d[m++]=o:(c(o,!1,n),o.collision.bodyA.sleepCounter>0&&o.collision.bodyB.sleepCounter>0?d[m++]=o:(h[v++]=o,delete u[o.id]));d.length!==m&&(d.length=m),f.length!==x&&(f.length=x),h.length!==v&&(h.length=v),g.length!==b&&(g.length=b)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var r=e.exports=n(21);r.Axes=n(11),r.Bodies=n(12),r.Body=n(4),r.Bounds=n(1),r.Collision=n(8),r.Common=n(0),r.Composite=n(6),r.Composites=n(22),r.Constraint=n(10),r.Contact=n(16),r.Detector=n(13),r.Engine=n(17),r.Events=n(5),r.Grid=n(23),r.Mouse=n(14),r.MouseConstraint=n(24),r.Pair=n(9),r.Pairs=n(19),r.Plugin=n(15),r.Query=n(25),r.Render=n(26),r.Resolver=n(18),r.Runner=n(27),r.SAT=n(28),r.Sleeping=n(7),r.Svg=n(29),r.Vector=n(2),r.Vertices=n(3),r.World=n(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(e,t,n){var r={};e.exports=r;var i=n(15),o=n(0);r.name="matter-js",r.version="0.20.0",r.uses=[],r.used=[],r.use=function(){i.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(r,e,t)}},function(e,t,n){var r={};e.exports=r;var i=n(6),o=n(10),s=n(0),a=n(4),l=n(12),c=s.deprecated;r.stack=function(e,t,n,r,o,s,l){for(var c,u=i.create({label:"Stack"}),d=e,p=t,m=0,f=0;f<r;f++){for(var h=0,g=0;g<n;g++){var y=l(d,p,g,f,c,m);if(y){var x=y.bounds.max.y-y.bounds.min.y,v=y.bounds.max.x-y.bounds.min.x;x>h&&(h=x),a.translate(y,{x:.5*v,y:.5*x}),d=y.bounds.max.x+o,i.addBody(u,y),c=y,m+=1}else d+=o}p+=h+s,d=e}return u},r.chain=function(e,t,n,r,a,l){for(var c=e.bodies,u=1;u<c.length;u++){var d=c[u-1],p=c[u],m=d.bounds.max.y-d.bounds.min.y,f=d.bounds.max.x-d.bounds.min.x,h=p.bounds.max.y-p.bounds.min.y,g=p.bounds.max.x-p.bounds.min.x,y={bodyA:d,pointA:{x:f*t,y:m*n},bodyB:p,pointB:{x:g*r,y:h*a}},x=s.extend(y,l);i.addConstraint(e,o.create(x))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,a){var l,c,u,d,p,m=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)u=m[c-1+l*t],d=m[c+l*t],i.addConstraint(e,o.create(s.extend({bodyA:u,bodyB:d},a)));if(l>0)for(c=0;c<t;c++)u=m[c+(l-1)*t],d=m[c+l*t],i.addConstraint(e,o.create(s.extend({bodyA:u,bodyB:d},a))),r&&c>0&&(p=m[c-1+(l-1)*t],i.addConstraint(e,o.create(s.extend({bodyA:p,bodyB:d},a)))),r&&c<t-1&&(p=m[c+1+(l-1)*t],i.addConstraint(e,o.create(s.extend({bodyA:p,bodyB:d},a))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,i,o,s,l){return r.stack(e,t,n,i,o,s,function(t,r,s,c,u,d){var p=Math.min(i,Math.ceil(n/2)),m=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p)){var f=c=p-c,h=n-1-c;if(!(s<f)&&!(s>h))return 1===d&&a.translate(u,{x:(s+(n%2==1?1:-1))*m,y:0}),l(e+(u?s*m:0)+s*o,r,s,c,u,d)}})},r.newtonsCradle=function(e,t,n,r,s){for(var a=i.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(e+1.9*r*c,t+s,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=o.create({pointA:{x:e+1.9*r*c,y:t},bodyB:u});i.addBody(a,u),i.addConstraint(a,d)}return a},c(r,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),r.car=function(e,t,n,r,s){var c=a.nextGroup(!0),u=-(.5*n)+20,d=.5*n-20,p=i.create({label:"Car"}),m=l.rectangle(e,t,n,r,{collisionFilter:{group:c},chamfer:{radius:.5*r},density:2e-4}),f=l.circle(e+u,t+0,s,{collisionFilter:{group:c},friction:.8}),h=l.circle(e+d,t+0,s,{collisionFilter:{group:c},friction:.8}),g=o.create({bodyB:m,pointB:{x:u,y:0},bodyA:f,stiffness:1,length:0}),y=o.create({bodyB:m,pointB:{x:d,y:0},bodyA:h,stiffness:1,length:0});return i.addBody(p,m),i.addBody(p,f),i.addBody(p,h),i.addConstraint(p,g),i.addConstraint(p,y),p},c(r,"car","Composites.car ➤ moved to car example"),r.softBody=function(e,t,n,i,o,a,c,u,d,p){d=s.extend({inertia:1/0},d),p=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var m=r.stack(e,t,n,i,o,a,function(e,t){return l.circle(e,t,u,d)});return r.mesh(m,n,i,c,p),m.label="Soft Body",m},c(r,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(e,t,n){var r={};e.exports=r;var i=n(9),o=n(0),s=o.deprecated;r.create=function(e){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},e)},r.update=function(e,t,n,i){var o,s,a,l,c,u=n.world,d=e.buckets,p=!1;for(o=0;o<t.length;o++){var m=t[o];if((!m.isSleeping||i)&&(!u.bounds||!(m.bounds.max.x<u.bounds.min.x)&&!(m.bounds.min.x>u.bounds.max.x)&&!(m.bounds.max.y<u.bounds.min.y)&&!(m.bounds.min.y>u.bounds.max.y))){var f=r._getRegion(e,m);if(!m.region||f.id!==m.region.id||i){(!m.region||i)&&(m.region=f);var h=r._regionUnion(f,m.region);for(s=h.startCol;s<=h.endCol;s++)for(a=h.startRow;a<=h.endRow;a++){l=d[c=r._getBucketId(s,a)];var g=s>=f.startCol&&s<=f.endCol&&a>=f.startRow&&a<=f.endRow,y=s>=m.region.startCol&&s<=m.region.endCol&&a>=m.region.startRow&&a<=m.region.endRow;!g&&y&&y&&l&&r._bucketRemoveBody(e,l,m),(m.region===f||g&&!y||i)&&(l||(l=r._createBucket(d,c)),r._bucketAddBody(e,l,m))}m.region=f,p=!0}}}p&&(e.pairsList=r._createActivePairsList(e))},s(r,"update","Grid.update ➤ replaced by Matter.Detector"),r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},s(r,"clear","Grid.clear ➤ replaced by Matter.Detector"),r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return r._createRegion(n,i,o,s)},r._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),o=Math.floor(n.max.x/e.bucketWidth),s=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return r._createRegion(i,o,s,a)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,n){var r,o=e.pairs,s=i.id,a=t.length;for(r=0;r<a;r++){var l=t[r];if(n.id!==l.id&&(!n.isStatic||!l.isStatic)){var c=s(n,l),u=o[c];u?u[2]+=1:o[c]=[n,l,1]}}t.push(n)},r._bucketRemoveBody=function(e,t,n){var r,s=e.pairs,a=i.id;t.splice(o.indexOf(t,n),1);var l=t.length;for(r=0;r<l;r++){var c=s[a(n,t[r])];c&&(c[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=e.pairs,i=o.keys(r),s=i.length,a=[];for(n=0;n<s;n++)(t=r[i[n]])[2]>0?a.push(t):delete r[i[n]];return a}},function(e,t,n){var r={};e.exports=r;var i=n(3),o=n(7),s=n(14),a=n(5),l=n(13),c=n(10),u=n(6),d=n(0),p=n(1);r.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=s.create(e.render.canvas):t&&t.element?n=s.create(t.element):(n=s.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i=c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),o={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:i,collisionFilter:{category:1,mask:0xffffffff,group:0}},l=d.extend(o,t);return a.on(e,"beforeUpdate",function(){var t=u.allBodies(e.world);r.update(l,t),r._triggerEvents(l)}),l},r.update=function(e,t){var n=e.mouse,r=e.constraint,s=e.body;if(0===n.button){if(r.bodyB)o.set(r.bodyB,!1),r.pointA=n.position;else for(var c=0;c<t.length;c++)if(s=t[c],p.contains(s.bounds,n.position)&&l.canCollide(s.collisionFilter,e.collisionFilter))for(var u=+(s.parts.length>1);u<s.parts.length;u++){var d=s.parts[u];if(i.contains(d.vertices,n.position)){r.pointA=n.position,r.bodyB=e.body=s,r.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},r.angleB=s.angle,o.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else r.bodyB=e.body=null,r.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})},r._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},function(e,t,n){var r={};e.exports=r;var i=n(2),o=n(8),s=n(1),a=n(12),l=n(3);r.collides=function(e,t){for(var n=[],r=t.length,i=e.bounds,a=o.collides,l=s.overlaps,c=0;c<r;c++){var u=t[c],d=u.parts.length,p=+(1!==d);if(l(u.bounds,i))for(var m=p;m<d;m++){var f=u.parts[m];if(l(f.bounds,i)){var h=a(f,e);if(h){n.push(h);break}}}}return n},r.ray=function(e,t,n,o){o=o||1e-100;for(var s=i.angle(t,n),l=i.magnitude(i.sub(t,n)),c=(n.x+t.x)*.5,u=(n.y+t.y)*.5,d=a.rectangle(c,u,l,o,{angle:s}),p=r.collides(d,e),m=0;m<p.length;m+=1){var f=p[m];f.body=f.bodyB=f.bodyA}return p},r.region=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],a=s.overlaps(o.bounds,t);(a&&!n||!a&&n)&&r.push(o)}return r},r.point=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(s.contains(i.bounds,t))for(var o=+(1!==i.parts.length);o<i.parts.length;o++){var a=i.parts[o];if(s.contains(a.bounds,t)&&l.contains(a.vertices,t)){n.push(i);break}}}return n}},function(e,t,n){var r,i,o,s,a,l,c,u,d={};e.exports=d;var p=n(4),m=n(0),f=n(6),h=n(1),g=n(5),y=n(2),x=n(14);"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(m.now())},1e3/60)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),d._goodFps=30,d._goodDelta=1e3/60,d.create=function(e){var t={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=m.extend(t,e);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=e.mouse,n.engine=e.engine,n.canvas=n.canvas||a(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=d,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&d.setPixelRatio(n,n.options.pixelRatio),m.isElement(n.element)&&n.element.appendChild(n.canvas),n},d.run=function(e){!function t(n){e.frameRequestId=r(t),o(e,n),d.world(e,n),e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0),(e.options.showStats||e.options.showDebug)&&d.stats(e,e.context,n),(e.options.showPerformance||e.options.showDebug)&&d.performance(e,e.context,n),e.context.setTransform(1,0,0,1,0,0)}()},d.stop=function(e){i(e.frameRequestId)},d.setPixelRatio=function(e,t){var n=e.options,r=e.canvas;"auto"===t&&(t=l(r)),n.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=n.width*t,r.height=n.height*t,r.style.width=n.width+"px",r.style.height=n.height+"px"},d.setSize=function(e,t,n){e.options.width=t,e.options.height=n,e.bounds.max.x=e.bounds.min.x+t,e.bounds.max.y=e.bounds.min.y+n,1!==e.options.pixelRatio?d.setPixelRatio(e,e.options.pixelRatio):(e.canvas.width=t,e.canvas.height=n)},d.lookAt=function(e,t,n,r){r=void 0===r||r,t=m.isArray(t)?t:[t],n=n||{x:0,y:0};for(var i={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<t.length;o+=1){var s=t[o],a=s.bounds?s.bounds.min:s.min||s.position||s,l=s.bounds?s.bounds.max:s.max||s.position||s;a&&l&&(a.x<i.min.x&&(i.min.x=a.x),l.x>i.max.x&&(i.max.x=l.x),a.y<i.min.y&&(i.min.y=a.y),l.y>i.max.y&&(i.max.y=l.y))}var c=i.max.x-i.min.x+2*n.x,u=i.max.y-i.min.y+2*n.y,d=e.canvas.height,p=e.canvas.width/d,f=c/u,h=1,g=1;f>p?g=f/p:h=p/f,e.options.hasBounds=!0,e.bounds.min.x=i.min.x,e.bounds.max.x=i.min.x+c*h,e.bounds.min.y=i.min.y,e.bounds.max.y=i.min.y+u*g,r&&(e.bounds.min.x+=.5*c-c*h*.5,e.bounds.max.x+=.5*c-c*h*.5,e.bounds.min.y+=.5*u-u*g*.5,e.bounds.max.y+=.5*u-u*g*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(x.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),x.setOffset(e.mouse,e.bounds.min))},d.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,i=n/e.options.height;e.context.setTransform(e.options.pixelRatio/r,0,0,e.options.pixelRatio/i,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},d.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},d.world=function(e,t){var n,r=m.now(),i=e.engine,o=i.world,s=e.canvas,a=e.context,l=e.options,c=e.timing,p=f.allBodies(o),v=f.allConstraints(o),b=l.wireframes?l.wireframeBackground:l.background,S=[],w=[],A={timestamp:i.timing.timestamp};if(g.trigger(e,"beforeRender",A),e.currentBackground!==b&&u(e,b),a.globalCompositeOperation="source-in",a.fillStyle="transparent",a.fillRect(0,0,s.width,s.height),a.globalCompositeOperation="source-over",l.hasBounds){for(n=0;n<p.length;n++){var M=p[n];h.overlaps(M.bounds,e.bounds)&&S.push(M)}for(n=0;n<v.length;n++){var P=v[n],C=P.bodyA,_=P.bodyB,k=P.pointA,B=P.pointB;C&&(k=y.add(C.position,P.pointA)),_&&(B=y.add(_.position,P.pointB)),k&&B&&(h.contains(e.bounds,k)||h.contains(e.bounds,B))&&w.push(P)}d.startViewTransform(e),e.mouse&&(x.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),x.setOffset(e.mouse,e.bounds.min))}else w=v,S=p,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!l.wireframes||i.enableSleeping&&l.showSleeping?d.bodies(e,S,a):(l.showConvexHulls&&d.bodyConvexHulls(e,S,a),d.bodyWireframes(e,S,a)),l.showBounds&&d.bodyBounds(e,S,a),(l.showAxes||l.showAngleIndicator)&&d.bodyAxes(e,S,a),l.showPositions&&d.bodyPositions(e,S,a),l.showVelocity&&d.bodyVelocity(e,S,a),l.showIds&&d.bodyIds(e,S,a),l.showSeparations&&d.separations(e,i.pairs.list,a),l.showCollisions&&d.collisions(e,i.pairs.list,a),l.showVertexNumbers&&d.vertexNumbers(e,S,a),l.showMousePosition&&d.mousePosition(e,e.mouse,a),d.constraints(w,a),l.hasBounds&&d.endViewTransform(e),g.trigger(e,"afterRender",A),c.lastElapsed=m.now()-r},d.stats=function(e,t,n){for(var r=e.engine,i=r.world,o=f.allBodies(i),s=0,a=0,l=0;l<o.length;l+=1)s+=o[l].parts.length;var c={Part:s,Body:o.length,Cons:f.allConstraints(i).length,Comp:f.allComposites(i).length,Pair:r.pairs.list.length};for(var u in t.fillStyle="#0e0f19",t.fillRect(a,0,302.5,44),t.font="12px Arial",t.textBaseline="top",t.textAlign="right",c){var d=c[u];t.fillStyle="#aaa",t.fillText(u,a+55,8),t.fillStyle="#eee",t.fillText(d,a+55,26),a+=55}},d.performance=function(e,t){var n=e.engine,r=e.timing,i=r.deltaHistory,o=r.elapsedHistory,a=r.timestampElapsedHistory,l=r.engineDeltaHistory,c=r.engineUpdatesHistory,u=r.engineElapsedHistory,p=n.timing.lastUpdatesPerFrame,f=n.timing.lastDelta,h=s(i),g=s(o),y=s(l),x=s(c),v=s(u),b=s(a)/h||0,S=Math.round(h/f),w=1e3/h||0;t.fillStyle="#0e0f19",t.fillRect(0,50,442,34),d.status(t,10,69,60,4,i.length,Math.round(w)+" fps",w/d._goodFps,function(e){return i[e]/h-1}),d.status(t,82,69,60,4,l.length,f.toFixed(2)+" dt",d._goodDelta/f,function(e){return l[e]/y-1}),d.status(t,154,69,60,4,c.length,p+" upf",Math.pow(m.clamp(x/S||1,0,1),4),function(e){return c[e]/x-1}),d.status(t,226,69,60,4,u.length,v.toFixed(2)+" ut",1-p*v/d._goodFps,function(e){return u[e]/v-1}),d.status(t,298,69,60,4,o.length,g.toFixed(2)+" rt",1-g/d._goodFps,function(e){return o[e]/g-1}),d.status(t,370,69,60,4,a.length,b.toFixed(2)+" x",b*b*b,function(e){return(a[e]/i[e]/b||0)-1})},d.status=function(e,t,n,r,i,o,s,a,l){e.strokeStyle="#888",e.fillStyle="#444",e.lineWidth=1,e.fillRect(t,n+7,r,1),e.beginPath(),e.moveTo(t,n+7-i*m.clamp(.4*l(0),-2,2));for(var c=0;c<r;c+=1)e.lineTo(t+c,n+7-(c<o?i*m.clamp(.4*l(c),-2,2):0));e.stroke(),e.fillStyle="hsl("+m.clamp(25+95*a,0,120)+",100%,60%)",e.fillRect(t,n-7,4,4),e.font="12px Arial",e.textBaseline="middle",e.textAlign="right",e.fillStyle="#eee",e.fillText(s,t+r,n-5)},d.constraints=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.render.visible&&r.pointA&&r.pointB){var i,o,s=r.bodyA,a=r.bodyB;if(i=s?y.add(s.position,r.pointA):r.pointA,"pin"===r.render.type)t.beginPath(),t.arc(i.x,i.y,3,0,2*Math.PI),t.closePath();else{if(o=a?y.add(a.position,r.pointB):r.pointB,t.beginPath(),t.moveTo(i.x,i.y),"spring"===r.render.type)for(var l,c=y.sub(o,i),u=y.perp(y.normalise(c)),d=Math.ceil(m.clamp(r.length/5,12,20)),p=1;p<d;p+=1)l=p%2==0?1:-1,t.lineTo(i.x+c.x*(p/d)+u.x*l*4,i.y+c.y*(p/d)+u.y*l*4);t.lineTo(o.x,o.y)}r.render.lineWidth&&(t.lineWidth=r.render.lineWidth,t.strokeStyle=r.render.strokeStyle,t.stroke()),r.render.anchors&&(t.fillStyle=r.render.strokeStyle,t.beginPath(),t.arc(i.x,i.y,3,0,2*Math.PI),t.arc(o.x,o.y,3,0,2*Math.PI),t.closePath(),t.fill())}}},d.bodies=function(e,t,n){e.engine;var r,i,o,s,a=e.options,l=a.showInternalEdges||!a.wireframes;for(o=0;o<t.length;o++)if((r=t[o]).render.visible){for(s=+(r.parts.length>1);s<r.parts.length;s++)if((i=r.parts[s]).render.visible){if(a.showSleeping&&r.isSleeping?n.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(n.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!a.wireframes){var u=i.render.sprite,d=c(e,u.texture);n.translate(i.position.x,i.position.y),n.rotate(i.angle),n.drawImage(d,-(d.width*u.xOffset)*u.xScale,-(d.height*u.yOffset)*u.yScale,d.width*u.xScale,d.height*u.yScale),n.rotate(-i.angle),n.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)n.beginPath(),n.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{n.beginPath(),n.moveTo(i.vertices[0].x,i.vertices[0].y);for(var p=1;p<i.vertices.length;p++)!i.vertices[p-1].isInternal||l?n.lineTo(i.vertices[p].x,i.vertices[p].y):n.moveTo(i.vertices[p].x,i.vertices[p].y),i.vertices[p].isInternal&&!l&&n.moveTo(i.vertices[(p+1)%i.vertices.length].x,i.vertices[(p+1)%i.vertices.length].y);n.lineTo(i.vertices[0].x,i.vertices[0].y),n.closePath()}a.wireframes?(n.lineWidth=1,n.strokeStyle=e.options.wireframeStrokeStyle,n.stroke()):(n.fillStyle=i.render.fillStyle,i.render.lineWidth&&(n.lineWidth=i.render.lineWidth,n.strokeStyle=i.render.strokeStyle,n.stroke()),n.fill())}n.globalAlpha=1}}},d.bodyWireframes=function(e,t,n){var r,i,o,s,a,l=e.options.showInternalEdges;for(n.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(a=+(r.parts.length>1);a<r.parts.length;a++){for(i=r.parts[a],n.moveTo(i.vertices[0].x,i.vertices[0].y),s=1;s<i.vertices.length;s++)!i.vertices[s-1].isInternal||l?n.lineTo(i.vertices[s].x,i.vertices[s].y):n.moveTo(i.vertices[s].x,i.vertices[s].y),i.vertices[s].isInternal&&!l&&n.moveTo(i.vertices[(s+1)%i.vertices.length].x,i.vertices[(s+1)%i.vertices.length].y);n.lineTo(i.vertices[0].x,i.vertices[0].y)}n.lineWidth=1,n.strokeStyle=e.options.wireframeStrokeStyle,n.stroke()},d.bodyConvexHulls=function(e,t,n){var r,i,o;for(n.beginPath(),i=0;i<t.length;i++)if((r=t[i]).render.visible&&1!==r.parts.length){for(n.moveTo(r.vertices[0].x,r.vertices[0].y),o=1;o<r.vertices.length;o++)n.lineTo(r.vertices[o].x,r.vertices[o].y);n.lineTo(r.vertices[0].x,r.vertices[0].y)}n.lineWidth=1,n.strokeStyle="rgba(255,255,255,0.2)",n.stroke()},d.vertexNumbers=function(e,t,n){var r,i,o;for(r=0;r<t.length;r++){var s=t[r].parts;for(o=+(s.length>1);o<s.length;o++){var a=s[o];for(i=0;i<a.vertices.length;i++)n.fillStyle="rgba(255,255,255,0.2)",n.fillText(r+"_"+i,a.position.x+(a.vertices[i].x-a.position.x)*.8,a.position.y+(a.vertices[i].y-a.position.y)*.8)}}},d.mousePosition=function(e,t,n){n.fillStyle="rgba(255,255,255,0.8)",n.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},d.bodyBounds=function(e,t,n){e.engine;var r=e.options;n.beginPath();for(var i=0;i<t.length;i++)if(t[i].render.visible)for(var o=t[i].parts,s=+(o.length>1);s<o.length;s++){var a=o[s];n.rect(a.bounds.min.x,a.bounds.min.y,a.bounds.max.x-a.bounds.min.x,a.bounds.max.y-a.bounds.min.y)}r.wireframes?n.strokeStyle="rgba(255,255,255,0.08)":n.strokeStyle="rgba(0,0,0,0.1)",n.lineWidth=1,n.stroke()},d.bodyAxes=function(e,t,n){e.engine;var r,i,o,s,a=e.options;for(n.beginPath(),i=0;i<t.length;i++){var l=t[i],c=l.parts;if(l.render.visible)if(a.showAxes)for(o=+(c.length>1);o<c.length;o++)for(s=0,r=c[o];s<r.axes.length;s++){var u=r.axes[s];n.moveTo(r.position.x,r.position.y),n.lineTo(r.position.x+20*u.x,r.position.y+20*u.y)}else for(o=+(c.length>1);o<c.length;o++)for(s=0,r=c[o];s<r.axes.length;s++)n.moveTo(r.position.x,r.position.y),n.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}a.wireframes?(n.strokeStyle="indianred",n.lineWidth=1):(n.strokeStyle="rgba(255, 255, 255, 0.4)",n.globalCompositeOperation="overlay",n.lineWidth=2),n.stroke(),n.globalCompositeOperation="source-over"},d.bodyPositions=function(e,t,n){e.engine;var r,i,o,s,a=e.options;for(n.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible)for(s=0;s<r.parts.length;s++)i=r.parts[s],n.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),n.closePath();for(a.wireframes?n.fillStyle="indianred":n.fillStyle="rgba(0,0,0,0.5)",n.fill(),n.beginPath(),o=0;o<t.length;o++)(r=t[o]).render.visible&&(n.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),n.closePath());n.fillStyle="rgba(255,165,0,0.8)",n.fill()},d.bodyVelocity=function(e,t,n){n.beginPath();for(var r=0;r<t.length;r++){var i=t[r];if(i.render.visible){var o=p.getVelocity(i);n.moveTo(i.position.x,i.position.y),n.lineTo(i.position.x+o.x,i.position.y+o.y)}}n.lineWidth=3,n.strokeStyle="cornflowerblue",n.stroke()},d.bodyIds=function(e,t,n){var r,i;for(r=0;r<t.length;r++)if(t[r].render.visible){var o=t[r].parts;for(i=+(o.length>1);i<o.length;i++){var s=o[i];n.font="12px Arial",n.fillStyle="rgba(255,255,255,0.5)",n.fillText(s.id,s.position.x+10,s.position.y-10)}}},d.collisions=function(e,t,n){var r,i,o,s,a=e.options;for(n.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive)for(s=0,i=r.collision;s<r.contactCount;s++){var l=r.contacts[s].vertex;n.rect(l.x-1.5,l.y-1.5,3.5,3.5)}for(a.wireframes?n.fillStyle="rgba(255,255,255,0.7)":n.fillStyle="orange",n.fill(),n.beginPath(),o=0;o<t.length;o++)if((r=t[o]).isActive&&(i=r.collision,r.contactCount>0)){var c=r.contacts[0].vertex.x,u=r.contacts[0].vertex.y;2===r.contactCount&&(c=(r.contacts[0].vertex.x+r.contacts[1].vertex.x)/2,u=(r.contacts[0].vertex.y+r.contacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?n.moveTo(c-8*i.normal.x,u-8*i.normal.y):n.moveTo(c+8*i.normal.x,u+8*i.normal.y),n.lineTo(c,u)}a.wireframes?n.strokeStyle="rgba(255,165,0,0.7)":n.strokeStyle="orange",n.lineWidth=1,n.stroke()},d.separations=function(e,t,n){var r,i,o,s,a,l=e.options;for(n.beginPath(),a=0;a<t.length;a++)if((r=t[a]).isActive){o=(i=r.collision).bodyA;var c=1;(s=i.bodyB).isStatic||o.isStatic||(c=.5),s.isStatic&&(c=0),n.moveTo(s.position.x,s.position.y),n.lineTo(s.position.x-i.penetration.x*c,s.position.y-i.penetration.y*c),c=1,s.isStatic||o.isStatic||(c=.5),o.isStatic&&(c=0),n.moveTo(o.position.x,o.position.y),n.lineTo(o.position.x+i.penetration.x*c,o.position.y+i.penetration.y*c)}l.wireframes?n.strokeStyle="rgba(255,165,0,0.5)":n.strokeStyle="orange",n.stroke()},d.inspector=function(e,t){e.engine;var n,r=e.selected,i=e.render,o=i.options;if(o.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,a=i.bounds.max.y-i.bounds.min.y,l=s/i.options.width,c=a/i.options.height;t.scale(1/l,1/c),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var u=0;u<r.length;u++){var d=r[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=d.pointA;d.bodyA&&(p=d.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)},o=function(e,t){var n=e.engine,r=e.timing,i=r.historySize,o=n.timing.timestamp;r.delta=t-r.lastTime||d._goodDelta,r.lastTime=t,r.timestampElapsed=o-r.lastTimestamp||0,r.lastTimestamp=o,r.deltaHistory.unshift(r.delta),r.deltaHistory.length=Math.min(r.deltaHistory.length,i),r.engineDeltaHistory.unshift(n.timing.lastDelta),r.engineDeltaHistory.length=Math.min(r.engineDeltaHistory.length,i),r.timestampElapsedHistory.unshift(r.timestampElapsed),r.timestampElapsedHistory.length=Math.min(r.timestampElapsedHistory.length,i),r.engineUpdatesHistory.unshift(n.timing.lastUpdatesPerFrame),r.engineUpdatesHistory.length=Math.min(r.engineUpdatesHistory.length,i),r.engineElapsedHistory.unshift(n.timing.lastElapsed),r.engineElapsedHistory.length=Math.min(r.engineElapsedHistory.length,i),r.elapsedHistory.unshift(r.lastElapsed),r.elapsedHistory.length=Math.min(r.elapsedHistory.length,i)},s=function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length||0},a=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},l=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},c=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t),n},u=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}},function(e,t,n){var r,i={};e.exports=i;var o=n(5),s=n(17),a=n(0);i._maxFrameDelta=1e3/15,i._frameDeltaFallback=1e3/60,i._timeBufferMargin=1.5,i._elapsedNextEstimate=1,i._smoothingLowerBound=.1,i._smoothingUpperBound=.9,i.create=function(e){var t=a.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},e);return t.fps=0,t},i.run=function(e,t){return e.timeBuffer=i._frameDeltaFallback,!function n(r){e.frameRequestId=i._onNextFrame(e,n),r&&e.enabled&&i.tick(e,t,r)}(),e},i.tick=function(e,t,n){var l=a.now(),c=e.delta,u=0,d=n-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(i._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||i._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var p=e.frameDeltaHistory.slice(0).sort();d=r(e.frameDeltaHistory.slice(p.length*i._smoothingLowerBound,p.length*i._smoothingUpperBound))||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=n,e.timeBuffer+=e.frameDelta,e.timeBuffer=a.clamp(e.timeBuffer,0,e.frameDelta+c*i._timeBufferMargin),e.lastUpdatesDeferred=0;var m=e.maxUpdates||Math.ceil(e.maxFrameTime/c),f={timestamp:t.timing.timestamp};o.trigger(e,"beforeTick",f),o.trigger(e,"tick",f);for(var h=a.now();c>0&&e.timeBuffer>=c*i._timeBufferMargin;){o.trigger(e,"beforeUpdate",f),s.update(t,c),o.trigger(e,"afterUpdate",f),e.timeBuffer-=c,u+=1;var g=a.now()-l,y=a.now()-h,x=g+i._elapsedNextEstimate*y/u;if(u>=m||x>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/c-i._timeBufferMargin));break}}t.timing.lastUpdatesPerFrame=u,o.trigger(e,"afterTick",f),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/c)>m?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==e.isFixed&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},i.stop=function(e){i._cancelNextFrame(e)},i._onNextFrame=function(e,t){if("undefined"!=typeof window&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(t);else throw Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},i._cancelNextFrame=function(e){if("undefined"!=typeof window&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw Error("Matter.Runner: missing required global window.cancelAnimationFrame.")},r=function(e){for(var t=0,n=e.length,r=0;r<n;r+=1)t+=e[r];return t/n||0}},function(e,t,n){var r={};e.exports=r;var i=n(8),o=n(0).deprecated;r.collides=function(e,t){return i.collides(e,t)},o(r,"collides","SAT.collides ➤ replaced by Collision.collides")},function(e,t,n){var r={};e.exports=r,n(1);var i=n(0);r.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,s,a,l,c,u,d,p,m,f,h=[],g=0,y=0,x=0;t=t||15;var v=function(e,t,n){var r=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&r?(m=p.x,f=p.y):(m=0,f=0);var i={x:m+e,y:f+t};(r||!p)&&(p=i),h.push(i),y=m+e,x=f+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,x=e.y;break;case"H":y=e.x;break;case"V":x=e.y}v(y,x,e.pathSegType)}};for(r._svgPathToAbsolute(e),s=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(u=c.concat();g<s;){if((l=c[e.getPathSegAtLength(g)])!=d){for(;u.length&&u[0]!=l;)b(u.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v((a=e.getPointAtLength(g)).x,a.y,0)}g+=t}for(n=0,o=u.length;n<o;++n)b(u[n]);return h},r._svgPathToAbsolute=function(e){for(var t,n,r,i,o,s,a=e.pathSegList,l=0,c=0,u=a.numberOfItems,d=0;d<u;++d){var p=a.getItem(d),m=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(m))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(r=l+p.x1),"x2"in p&&(o=l+p.x2),"y1"in p&&(i=c+p.y1),"y2"in p&&(s=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),m){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,c),d);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,c),d);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),d);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,r,i,o,s),d);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,o,s),d);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,r,i),d);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),d);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),d);break;case"z":case"Z":l=t,c=n}("M"==m||"m"==m)&&(t=l,n=c)}}},function(e,t,n){var r={};e.exports=r;var i=n(6);n(0),r.create=i.create,r.add=i.add,r.remove=i.remove,r.clear=i.clear,r.addComposite=i.addComposite,r.addBody=i.addBody,r.addConstraint=i.addConstraint}],n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=20)}()},6066,(e,t,n)=>{function r(e,t,n,r){var i=t[0]-e[0],o=t[1]-e[1],s=r[0]-n[0],a=r[1]-n[1];if(s*o-a*i==0)return!1;var l=(i*(n[1]-e[1])+o*(e[0]-n[0]))/(s*o-a*i),c=(s*(e[1]-n[1])+a*(n[0]-e[0]))/(a*i-s*o);return l>=0&&l<=1&&c>=0&&c<=1}function i(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}t.exports={decomp:function(e){var t=function e(t){for(var n=[],r=[],s=[],a=[],u=Number.MAX_VALUE,h=0;h<t.length;++h)if(d(t,h)){for(var y=0;y<t.length;++y)if(function(e,t,n){if(a=c(e,t+1),i(a,c(e,t),c(e,n))>=0&&o(c(e,t-1),c(e,t),c(e,n)))return!1;s=l(c(e,t),c(e,n));for(var r,s,a,u,d=0;d!==e.length;++d)if((d+1)%e.length!==t&&d!==t&&(u=c(e,t),i(u,c(e,n),c(e,d+1))>=0&&o(c(e,t),c(e,n),c(e,d))&&(p[0]=c(e,t),p[1]=c(e,n),m[0]=c(e,d),m[1]=c(e,d+1),r=function(e,t,n){n=n||0;var r,i,o,s,a,l,c,u=[0,0];return r=e[1][1]-e[0][1],i=e[0][0]-e[1][0],o=r*e[0][0]+i*e[0][1],s=t[1][1]-t[0][1],a=t[0][0]-t[1][0],l=s*t[0][0]+a*t[0][1],g(c=r*a-s*i,0,n)||(u[0]=(a*o-i*l)/c,u[1]=(r*l-s*o)/c),u}(p,m),l(c(e,t),r)<s)))return!1;return!0}(t,h,y)){r=e(f(t,h,y,a)),s=e(f(t,y,h,a));for(var x=0;x<s.length;x++)r.push(s[x]);r.length<u&&(n=r,u=r.length,n.push([c(t,h),c(t,y)]))}}return n}(e);return t.length>0?function e(t,n){if(0===n.length)return[t];if(n instanceof Array&&n.length&&n[0]instanceof Array&&2===n[0].length&&n[0][0]instanceof Array){for(var r=[t],i=0;i<n.length;i++)for(var o=n[i],s=0;s<r.length;s++){var a=e(r[s],o);if(a){r.splice(s,1),r.push(a[0],a[1]);break}}return r}var o=n,i=t.indexOf(o[0]),s=t.indexOf(o[1]);return -1!==i&&-1!==s&&[f(t,i,s),f(t,s,i)]}(e,t):[e]},quickDecomp:function e(t,n,s,a,p,m,f){m=m||100,f=f||0,p=p||25,n=void 0!==n?n:[],s=s||[],a=a||[];var g=[0,0],y=[0,0],x=[0,0],v=0,b=0,S=0,w=0,A=0,M=0,P=0,C=[],_=[];if(t.length<3)return n;if(++f>m)return console.warn("quickDecomp: max level ("+m+") reached."),n;for(var k=0;k<t.length;++k)if(d(t,k)){s.push(t[k]),v=b=Number.MAX_VALUE;for(var B=0;B<t.length;++B)j=c(t,k-1),i(j,c(t,k),c(t,B))>0&&o(c(t,k-1),c(t,k),c(t,B-1))&&(x=h(c(t,k-1),c(t,k),c(t,B),c(t,B-1)),T=c(t,k+1),0>i(T,c(t,k),x)&&(S=l(t[k],x))<b&&(b=S,y=x,M=B)),N=c(t,k+1),i(N,c(t,k),c(t,B+1))>0&&o(c(t,k+1),c(t,k),c(t,B))&&(x=h(c(t,k+1),c(t,k),c(t,B),c(t,B+1)),I=c(t,k-1),i(I,c(t,k),x)>0&&(S=l(t[k],x))<v&&(v=S,g=x,A=B));if(M===(A+1)%t.length)x[0]=(y[0]+g[0])/2,x[1]=(y[1]+g[1])/2,a.push(x),k<A?(u(C,t,k,A+1),C.push(x),_.push(x),0!==M&&u(_,t,M,t.length),u(_,t,0,k+1)):(0!==k&&u(C,t,k,t.length),u(C,t,0,A+1),C.push(x),_.push(x),u(_,t,M,k+1));else{if(M>A&&(A+=t.length),w=Number.MAX_VALUE,A<M)return n;for(var j,T,N,I,R,B=M;B<=A;++B)R=c(t,k-1),i(R,c(t,k),c(t,B))>=0&&o(c(t,k+1),c(t,k),c(t,B))&&(S=l(c(t,k),c(t,B)))<w&&function(e,t,n){for(var i=0;i!==e.length;++i)if(i!==t&&i!==n&&(i+1)%e.length!==t&&(i+1)%e.length!==n&&r(c(e,t),c(e,n),c(e,i),c(e,i+1)))return!1;return!0}(t,k,B)&&(w=S,P=B%t.length);k<P?(u(C,t,k,P+1),0!==P&&u(_,t,P,t.length),u(_,t,0,k+1)):(0!==k&&u(C,t,k,t.length),u(C,t,0,P+1),u(_,t,P,k+1))}return C.length<_.length?(e(C,n,s,a,p,m,f),e(_,n,s,a,p,m,f)):(e(_,n,s,a,p,m,f),e(C,n,s,a,p,m,f)),n}return n.push(t),n},isSimple:function(e){var t;for(t=0;t<e.length-1;t++)for(var n=0;n<t-1;n++)if(r(e[t],e[t+1],e[n],e[n+1]))return!1;for(t=1;t<e.length-2;t++)if(r(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0},removeCollinearPoints:function(e,t){for(var n,r,o,l=0,u=e.length-1;e.length>3&&u>=0;--u)n=c(e,u-1),r=c(e,u),o=c(e,u+1),(t?(s[0]=r[0]-n[0],s[1]=r[1]-n[1],a[0]=o[0]-r[0],a[1]=o[1]-r[1],Math.acos((s[0]*a[0]+s[1]*a[1])/(Math.sqrt(s[0]*s[0]+s[1]*s[1])*Math.sqrt(a[0]*a[0]+a[1]*a[1])))<t):0===i(n,r,o))&&(e.splice(u%e.length,1),l++);return l},removeDuplicatePoints:function(e,t){for(var n,r,i,o=e.length-1;o>=1;--o)for(var s=e[o],a=o-1;a>=0;--a){if(n=s,r=e[a],i=t,g(n[0],r[0],i)&&g(n[1],r[1],i)){e.splice(o,1);continue}}},makeCCW:function(e){for(var t,n=0,r=1;r<e.length;++r)(e[r][1]<e[n][1]||e[r][1]===e[n][1]&&e[r][0]>e[n][0])&&(n=r);return t=c(e,n-1),!(i(t,c(e,n),c(e,n+1))>0)&&(function(e){for(var t=[],n=e.length,r=0;r!==n;r++)t.push(e.pop());for(var r=0;r!==n;r++)e[r]=t[r]}(e),!0)}};function o(e,t,n){return 0>=i(e,t,n)}var s=[],a=[];function l(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function c(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function u(e,t,n,r){for(var i=n;i<r;i++)e.push(t[i])}function d(e,t){var n;return n=c(e,t-1),0>i(n,c(e,t),c(e,t+1))}var p=[],m=[];function f(e,t,n,r){var i=r||[];if(i.length=0,t<n)for(var o=t;o<=n;o++)i.push(e[o]);else{for(var o=0;o<=n;o++)i.push(e[o]);for(var o=t;o<e.length;o++)i.push(e[o])}return i}function h(e,t,n,r,i){i=i||0;var o=t[1]-e[1],s=e[0]-t[0],a=o*e[0]+s*e[1],l=r[1]-n[1],c=n[0]-r[0],u=l*n[0]+c*n[1],d=o*c-l*s;return g(d,0,i)?[0,0]:[(c*a-s*u)/d,(o*u-l*a)/d]}function g(e,t,n){return Math.abs(e-t)<=(n=n||0)}}]);